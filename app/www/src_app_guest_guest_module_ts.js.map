{"version":3,"file":"src_app_guest_guest_module_ts.js","mappings":"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","sources":["./src/app/guest/listing-details/listing-details.component.css","./node_modules/@fullcalendar/core/internal-common.js","./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","./src/app/guest/guest.router.module.ts","./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","./src/app/guest/home/home.component.css","./node_modules/@popperjs/core/lib/modifiers/index.js","./node_modules/@popperjs/core/lib/utils/within.js","./src/app/guest/profile/profile.component.ts","./src/app/guest/contact/contact.component.css","./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","./src/app/guest/bookings/bookings.component.css","./node_modules/@popperjs/core/lib/utils/debounce.js","./node_modules/@fullcalendar/interaction/index.js","./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","./node_modules/@popperjs/core/lib/utils/math.js","./src/app/guest/booking-calendar/booking-calendar.component.ts","./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","./node_modules/@popperjs/core/lib/createPopper.js","./node_modules/@popperjs/core/lib/modifiers/offset.js","./src/app/guest/guest.service.ts","./src/app/guest/listings/listings.component.ts","./src/app/guest/listings/listings.component.css","./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","./node_modules/tippy.js/dist/tippy.esm.js","./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","./node_modules/sweetalert2/dist/sweetalert2.all.js","./node_modules/@popperjs/core/lib/enums.js","./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","./node_modules/@popperjs/core/lib/utils/computeOffsets.js","./node_modules/@popperjs/core/lib/utils/userAgent.js","./node_modules/@popperjs/core/lib/utils/mergeByName.js","./node_modules/@fullcalendar/core/index.js","./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","./src/app/guest/bookings/bookings.component.ts","./src/app/guest/faq/faq.component.ts","./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/@fullcalendar/timegrid/internal.js","./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","./src/app/guest/profile/profile.component.css","./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","./node_modules/@popperjs/core/lib/utils/getAltAxis.js","./node_modules/@popperjs/core/lib/popper-lite.js","./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","./node_modules/@popperjs/core/lib/utils/getVariation.js","./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","./src/app/guest/home/home.component.ts","./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","./node_modules/@popperjs/core/lib/popper.js","./node_modules/@popperjs/core/lib/modifiers/hide.js","./node_modules/@fullcalendar/timegrid/index.js","./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","./node_modules/preact/dist/preact.module.js","./node_modules/@fullcalendar/daygrid/internal.js","./src/app/guest/contact/contact.component.ts","./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","./src/app/guest/changepwd/changepwd.component.ts","./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","./node_modules/@popperjs/core/lib/utils/detectOverflow.js","./node_modules/@popperjs/core/lib/modifiers/arrow.js","./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","./node_modules/@popperjs/core/lib/dom-utils/contains.js","./src/app/guest/guest.module.ts","./src/app/guest/booking-calendar/booking-calendar.component.css","./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","./node_modules/@popperjs/core/lib/modifiers/flip.js","./src/app/guest/listing-details/listing-details.component.ts","./node_modules/@popperjs/core/lib/utils/orderModifiers.js","./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","./src/app/guest/faq/faq.component.css","./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","./src/app/guest/changepwd/changepwd.component.css"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected && // sometimes true if SSR system simulates DOM\n        el.getRootNode // sometimes undefined if SSR system simulates DOM\n    ) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.style.webkitUserSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.style.webkitUserSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 9,\n    omitZeroMinute: 9,\n    meridiem: 9,\n    omitCommas: 9,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let smallestUnitNum = 9; // the smallest unit in the formatter (9 is a sentinel, beyond max)\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                const severity = EXTENDED_SETTINGS_AND_SEVERITIES[name];\n                if (severity < 9) {\n                    smallestUnitNum = Math.min(EXTENDED_SETTINGS_AND_SEVERITIES[name], smallestUnitNum);\n                }\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    smallestUnitNum = Math.min(STANDARD_DATE_PROP_SEVERITIES[name], smallestUnitNum);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.smallestUnitNum = smallestUnitNum;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getSmallestUnit() {\n        switch (this.smallestUnitNum) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplaces: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, nowManager, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        nowManager,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            const { options } = this.context;\n            const { generatorName } = this.props;\n            if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {\n                this.updateElRef(el);\n            }\n        };\n        this.updateElRef = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props, [], this.handleEl);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (isObject\n                    ? isValidElement(customGeneratorRes) // vdom node\n                    : typeof customGeneratorRes !== 'function' // primitive value (like string or number)\n                ) {\n                    // use in vdom\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.updateElRef, // front-end framework tells us about new container els\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering that does not use Preact VDOM\nAND does the calendar's options define custom rendering?\nAKA. Should we NOT render the default content?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames, elRef) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n                if (el && this.didMountMisfire) {\n                    this.componentDidMount();\n                }\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (this.el) {\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n        }\n        else {\n            this.didMountMisfire = true;\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, Object.assign({}, props, { elTag: props.elTag || 'div', elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }), () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.props.dateEnv.toDate(this.props.nowManager.getDateMarker()))\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end <= (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: true });\n            });\n        };\n        this.handleAfterPrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: false });\n            });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.handleRefresh = () => {\n            let timing = this.computeTiming();\n            if (timing.state.nowDate.valueOf() !== this.state.nowDate.valueOf()) {\n                this.setState(timing.state);\n            }\n            this.clearTimeout();\n            this.setTimeout(timing.waitMs);\n        };\n        this.handleVisibilityChange = () => {\n            if (!document.hidden) {\n                this.handleRefresh();\n            }\n        };\n        this.state = this.computeTiming().state;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n        this.context.nowManager.addResetListener(this.handleRefresh);\n        // fired tab becomes visible after being hidden\n        document.addEventListener('visibilitychange', this.handleVisibilityChange);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n        this.context.nowManager.removeResetListener(this.handleRefresh);\n        document.removeEventListener('visibilitychange', this.handleVisibilityChange);\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = context.nowManager.getDateMarker();\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            state: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout(waitMs = this.computeTiming().waitMs) {\n        // NOTE: timeout could take longer than expected if tab sleeps,\n        // which is why we listen to 'visibilitychange'\n        this.timeoutId = setTimeout(() => {\n            // NOTE: timeout could also return *earlier* than expected, and we need to wait 2 ms more\n            // This is why use use same waitMs from computeTiming, so we don't skip an interval while\n            // .setState() is executing\n            const timing = this.computeTiming();\n            this.setState(timing.state, () => {\n                this.setTimeout(timing.waitMs);\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.nowManager.getDateMarker(),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && (!dateProfile.activeRange || !rangeContainsMarker(dateProfile.activeRange, date))),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.scrollX,\n        top: rect.top + window.scrollY,\n        right: rect.right + window.scrollX,\n        bottom: rect.bottom + window.scrollY,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.scrollY;\n    }\n    getScrollLeft() {\n        return window.scrollX;\n    }\n    setScrollTop(n) {\n        window.scroll(window.scrollX, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.scrollY);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor(getEntryThickness = (entry) => {\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return entry.thickness || 1;\n    }) {\n        this.getEntryThickness = getEntryThickness;\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n        }\n        else {\n            this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        }\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            const hiddenEntry = Object.assign(Object.assign({}, entry), { span: intersectSpans(entry.span, insertion.touchingEntry.span) });\n            hiddenEntries.push(hiddenEntry);\n            this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        else {\n            hiddenEntries.push(entry);\n        }\n    }\n    /*\n    Does NOT add what hit the `barrier` into hiddenEntries. Should already be done.\n    */\n    splitEntry(entry, barrier, hiddenEntries) {\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, hiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, hiddenEntries);\n        }\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    /*\n    does not care about limits\n    */\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            const trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let publicDate = dateEnv.toDate(date);\n        // workaround for Luxon (and maybe moment) returning prior-days when start-of-day\n        // in DST gap: https://github.com/fullcalendar/fullcalendar/issues/7633\n        if (dateEnv.namedTimeZoneImpl) {\n            publicDate = addMs(publicDate, 3600000); // add an hour\n        }\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: publicDate, view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: new EventImpl(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, Object.assign({}, props /* contains children */, { elRef: this.handleEl, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount })));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elTag: props.elTag || 'div', renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount })));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, Object.assign({}, props /* includes children */, { elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount })));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , Object.assign({}, props /* includes children */, { renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount })));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { listenBySelector as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, rangeContainsMarker as G, createEmptyEventStore as H, reduceEventStore as I, rezoneEventStoreDates as J, mergeRawOptions as K, BASE_OPTION_REFINERS as L, CALENDAR_LISTENER_REFINERS as M, CALENDAR_OPTION_REFINERS as N, COMPLEX_OPTION_COMPARATORS as O, VIEW_OPTION_REFINERS as P, DateEnv as Q, DateProfileGenerator as R, createEventUi as S, Theme as T, parseBusinessHours as U, ViewContextType as V, setRef as W, Interaction as X, getElSeg as Y, elementClosest as Z, EventImpl as _, mapHash as a, preventDefault as a$, listenToHoverBySelector as a0, PureComponent as a1, buildViewContext as a2, getUniqueDomId as a3, parseInteractionSettings as a4, interactionSettingsStore as a5, NowTimer as a6, CalendarImpl as a7, flushSync as a8, CalendarRoot as a9, memoizeArraylike as aA, memoizeHashlike as aB, intersectRects as aC, pointInsideRect as aD, constrainPoint as aE, getRectCenter as aF, diffPoints as aG, translateRect as aH, compareObjs as aI, collectFromHash as aJ, findElements as aK, findDirectChildren as aL, removeElement as aM, applyStyle as aN, elementMatches as aO, getEventTargetViaRoot as aP, parseClassNames as aQ, getCanVGrowWithinCell as aR, mergeEventStores as aS, getRelevantEvents as aT, eventTupleToStore as aU, combineEventUis as aV, Splitter as aW, getDayClassNames as aX, getDateMeta as aY, getSlotClassNames as aZ, buildNavLinkAttrs as a_, RenderId as aa, ensureElHasStyles as ab, applyStyleProp as ac, sliceEventStore as ad, JsonRequestError as ae, createContext as af, refineProps as ag, createEventInstance as ah, parseEventDef as ai, refineEventDef as aj, padStart as ak, isInt as al, parseFieldSpecs as am, compareByFieldSpecs as an, flexibleCompare as ao, preventSelection as ap, allowSelection as aq, preventContextMenu as ar, allowContextMenu as as, compareNumbers as at, enableCursor as au, disableCursor as av, computeVisibleDayRange as aw, isMultiDayRange as ax, diffDates as ay, removeExact as az, buildViewClassNames as b, renderMicroColGroup as b$, whenTransitionDone as b0, computeInnerRect as b1, computeEdges as b2, getClippingParents as b3, computeRect as b4, rangesEqual as b5, rangesIntersect as b6, rangeContainsRange as b7, PositionCache as b8, ScrollController as b9, getEntrySpanEnd as bA, binarySearch as bB, groupIntersectingEntries as bC, intersectSpans as bD, interactionSettingsToStore as bE, ElementDragging as bF, config as bG, parseDragMeta as bH, DayHeader as bI, computeFallbackHeaderFormat as bJ, TableDateCell as bK, TableDowCell as bL, DaySeriesModel as bM, hasBgRendering as bN, buildSegTimeText as bO, sortEventSegs as bP, getSegMeta as bQ, buildEventRangeKey as bR, getSegAnchorAttrs as bS, DayTableModel as bT, Slicer as bU, applyMutationToEventStore as bV, isPropsValid as bW, isInteractionValid as bX, isDateSelectionValid as bY, SimpleScrollGrid as bZ, hasShrinkWidth as b_, ElementScrollController as ba, WindowScrollController as bb, DateComponent as bc, isDateSpansEqual as bd, addMs as be, addWeeks as bf, diffWeeks as bg, diffWholeWeeks as bh, diffDayAndTime as bi, diffDays as bj, isValidDate as bk, asCleanDays as bl, multiplyDuration as bm, addDurations as bn, asRoughMinutes as bo, asRoughSeconds as bp, asRoughMs as bq, wholeDivideDurations as br, formatIsoTimeString as bs, formatDayString as bt, buildIsoString as bu, formatIsoMonthStr as bv, NamedTimeZoneImpl as bw, parse as bx, SegHierarchy as by, buildEntryKey as bz, greatestDurationDenominator as c, getScrollGridClassNames as c0, getSectionClassNames as c1, getSectionHasLiquidHeight as c2, getAllowYScrolling as c3, renderChunkContent as c4, computeShrinkWidth as c5, sanitizeShrinkWidth as c6, isColPropsEqual as c7, renderScrollShim as c8, getStickyFooterScrollbar as c9, getStickyHeaderDates as ca, Scroller as cb, getScrollbarWidths as cc, RefMap as cd, getIsRtlScrollbarOnLeft as ce, ScrollResponder as cf, StandardEvent as cg, NowIndicatorContainer as ch, DayCellContainer as ci, hasCustomDayCellContent as cj, EventContainer as ck, renderFill as cl, BgEvent as cm, WeekNumberContainer as cn, MoreLinkContainer as co, computeEarliestSegStart as cp, ViewContainer as cq, triggerDateSelect as cr, getDefaultEventEnd as cs, injectStyles as ct, buildElAttrs as cu, CustomRenderingStore as cv, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref, win) {\n  var x = _ref.x,\n      y = _ref.y;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }, getWindow(popper)) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { HomeComponent } from './home/home.component';\nimport { BookingCalendarComponent } from './booking-calendar/booking-calendar.component';\nimport { ChangeComponent } from './changepwd/changepwd.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { BookingsComponent } from './bookings/bookings.component';\nimport { ContactComponent } from './contact/contact.component';\nimport { FaqComponent } from './faq/faq.component';\nimport { ListingsComponent } from './listings/listings.component';\nimport { ListingdetailsComponent } from './listing-details/listing-details.component';\n\nconst routes: Routes = [\n  { path: '', component: HomeComponent },\n  { path: 'home', component: HomeComponent },\n  { path: 'booking-calendar', component: BookingCalendarComponent },\n  { path: 'changepwd', component: ChangeComponent },\n  { path: 'profile', component: ProfileComponent },\n  { path: 'bookings', component: BookingsComponent },\n  { path: 'contact', component: ContactComponent },\n  { path: 'guestmain', component: HomeComponent },\n  { path: 'faq', component: FaqComponent },\n  { path: 'listings', component: ListingsComponent },\n  { path: 'listing-detail', component: ListingdetailsComponent },\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule]\n})\nexport class GuestRoutingModule { }\n","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","export { default as applyStyles } from \"./applyStyles.js\";\nexport { default as arrow } from \"./arrow.js\";\nexport { default as computeStyles } from \"./computeStyles.js\";\nexport { default as eventListeners } from \"./eventListeners.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as hide } from \"./hide.js\";\nexport { default as offset } from \"./offset.js\";\nexport { default as popperOffsets } from \"./popperOffsets.js\";\nexport { default as preventOverflow } from \"./preventOverflow.js\";","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked, AfterViewInit } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, regexMobileNo, OBJECTNAME } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { GuestService } from '../guest.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Subscription, } from 'rxjs';\nimport firebase from 'firebase/compat/app';\n\n\ndeclare let $: any;\n\nconst actionCodeSettings = {\n  url: 'http://localhost:8100'\n}\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css'],\n  imports: [FormsModule]\n})\nexport class ProfileComponent implements OnInit, OnDestroy, AfterViewInit {\n  @ViewChild('businessaddress', { static: false }) businessaddress: ElementRef;\n  public componentName = 'profile.component';\n  public accountForm: FormGroup;\n  public subscriptions = new Subscription();\n  public address;\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public fb: FormBuilder,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n  ) { }\n\n  ngOnInit() {\n    if (this.guestSvc.wnGuest) {\n      this.createForm();\n    } else {\n      this.router.navigate(['/login']);\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.add(\n      this.utilsSvc.autoCompleteAddress1(this.businessaddress).subscribe(\n        async data => {\n          if (data) {\n            this.address = data;\n          }\n        }));\n  }\n\n  createForm() {\n    this.accountForm = this.fb.group({\n      email: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.email : '', [Validators.required, Validators.email]],\n      companyname: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.companyname : '', [Validators.required, Validators.minLength(3), Validators.maxLength(15)]],\n      socialnetworklink: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.socialnetworklink : '', [Validators.required, this.utilsSvc.socialLinkValidator]],\n      fullname: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.fullname : '', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      country: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.country : '', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]],\n      address: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.address : '', [Validators.required, Validators.minLength(3), Validators.maxLength(500)]],\n      lat: this.guestSvc.wnGuest ? this.guestSvc.wnGuest.lat : 0,\n      lng: this.guestSvc.wnGuest ? this.guestSvc.wnGuest.lng : 0,\n      telephone: [this.guestSvc.wnGuest ? this.guestSvc.wnGuest.mobileNo : '', [Validators.required, Validators.pattern(regexMobileNo)]],\n    });\n  }\n\n  async updateProfile() {\n    let user = this.guestSvc.wnGuest;\n    let cont = true;\n    if (user.email !== this.accountForm.value.email) {\n      try {\n        await this.updateEmail(user.email, user.password, this.accountForm.value.email,);\n      } catch (e) {\n        cont = false;\n        console.log('error=', e);\n      }\n    }\n    if (cont) {\n      user.email = this.accountForm.value.email;\n      user.fullname = this.accountForm.value.fullname;\n      user.mobileNo = this.accountForm.value.telephone;\n      user.socialnetworklink = this.accountForm.value.socialnetworklink;\n      user.companyname = this.accountForm.value.companyname;\n      user.country = this.accountForm.value.country;\n      user.mobileNo = this.accountForm.value.telephone;\n      user.address = this.address ? this.address.fullText : this.accountForm.value.address;\n      user.lat = this.address ? this.address.lat : this.accountForm.value.lat;\n      user.lng = this.address ? this.address.lng : this.accountForm.value.lng;\n\n      this.guestSvc.mainSvc.storeDbSvc.updateObject(this.utilsSvc.backendFBstoreId, this.utilsSvc.mdb, OBJECTNAME.wnUsers, user, user.userId).then(\n        data => {\n          $('#profileUpdatedModal').modal('show');\n          $('#profileUpdatedModal').on('shown.bs.modal', function () {\n            $('#profileUpdatedModal button.btn-primary').trigger('focus'); // or .focus()\n          });\n        },\n        error => console.log(error)\n      )\n    }\n  }\n\n  updateEmail(currentEmail: string, password: string, newEmail: string) {\n    return new Promise(async (resolve, reject) => {\n      let cont = true;\n      const user = this.utilsSvc.mauth.currentUser;\n      if (user) {\n        const credential = await firebase.auth.EmailAuthProvider.credential(currentEmail, password);\n        if (cont) {\n          try {\n            await user.reauthenticateWithCredential(credential); // étape 1\n          } catch (err: any) {\n            console.error('❌ Erreur :', err.message);\n            cont = false;\n            reject(err.message);\n          }\n        }\n        if (cont) {\n          try {\n            await user.updateEmail(newEmail); // étape 2\n          } catch (err: any) {\n            console.error('❌ Erreur :', err.message);\n            cont = false;\n            reject(err.message);\n          }\n        }\n        if (cont) {\n          try {\n            await user.sendEmailVerification(user); // étape 3 : envoie le mail de vérification au nouvel email\n          } catch (err: any) {\n            console.error('❌ Erreur :', err.message);\n            cont = false;\n            reject(err.message);\n          }\n          resolve(newEmail);\n        }\n      }\n    })\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.scrollX - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.scrollY - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.scrollX;\n            this.prevScrollY = window.scrollY;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.scrollX;\n        this.origScreenY = pageY - window.scrollY;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.scrollX) - this.origScreenX;\n        this.deltaY = (pageY - window.scrollY) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.style.userSelect = 'none';\n            mirrorEl.style.webkitUserSelect = 'none';\n            mirrorEl.style.pointerEvents = 'none';\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.scrollX, this.pointerScreenY + window.scrollY);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.scrollX;\n            let pointerScreenY = pageY - window.scrollY;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                /*\n                TODO: fix broken RTL scrolling. canScrollLeft always returning false\n                https://github.com/fullcalendar/fullcalendar/issues/4837\n                */\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                /*\n                TODO: in the future, always have auto-scroll happen on element where current Hit came from\n                Ticket: https://github.com/fullcalendar/fullcalendar/issues/4593\n                */\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.el = el;\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.disablePointCheck = false;\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        // Ensure the component we are querying for the hit is accessibly my the pointer\n                        // Prevents obscured calendars (ex: under a modal dialog) from accepting hit\n                        // https://github.com/fullcalendar/fullcalendar/issues/5026\n                        (this.disablePointCheck ||\n                            offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(\n                            // add-back origins to get coordinate relative to top-left of window viewport\n                            positionLeft + originLeft - window.scrollX, positionTop + originTop - window.scrollY))) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, this.eventRange.instance.range.start, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, eventInstanceStart, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(eventInstanceStart);\n        }\n        else {\n            // Moving from allDate->timed\n            // Doesn't matter where on the event the drag began, mutate the event's start-date to date1\n            date0 = eventInstanceStart;\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        let externalDragging = new ExternalElementDragging(dragging, settings.eventData);\n        // The hit-detection system requires that the dnd-mirror-element be pointer-events:none,\n        // but this can't be guaranteed for third-party draggables, so disable\n        externalDragging.hitDragging.disablePointCheck = true;\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Bookings, BOOKINGSTATUS, UtilsService } from 'godigital-lib';\nimport { ServicesService } from 'godigital-lib';\nimport { Router } from '@angular/router';\nimport { GuestService } from '../guest.service';\nimport { Calendar } from '@fullcalendar/core';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { getDatabase, ref, push, set, query, orderByChild, equalTo, get, remove } from 'firebase/database';\nimport Swal from 'sweetalert2';\nimport tippy from 'tippy.js'; // <--- import tippy\n//import 'tippy.js/dist/tippy.css'; // <--- import tippy styles\n\n@Component({\n  selector: 'app-booking-calendar',\n  templateUrl: './booking-calendar.component.html',\n  styleUrls: ['./booking-calendar.component.css'],\n  standalone: true,\n  imports: [FormsModule]\n})\nexport class BookingCalendarComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'booking-calendar.component';\n\n  calendar: Calendar;\n\n  constructor(\n    public guestSvc: GuestService,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n    const db = this.utilsSvc.mdb;\n\n    const calendarEl = document.getElementById('calendar')!;\n\n    this.calendar = new Calendar(calendarEl, {\n      plugins: [timeGridPlugin, interactionPlugin],\n      initialView: 'timeGridWeek',\n      slotMinTime: '08:00:00',\n      slotMaxTime: '20:00:00',\n      slotDuration: '01:00:00',\n      selectable: true,\n      nowIndicator: true,\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'timeGridDay,timeGridWeek'\n      },\n      eventContent: (arg) => {\n        const booking: any = arg.event.extendedProps;\n        const isCreation = booking.status === BOOKINGSTATUS.CREATION;\n\n        let buttonsHtml = '';\n        if (isCreation) {\n          buttonsHtml = `\n            <div class=\"fc-buttons\">\n              <button class=\"btn btn-success btn-sm\" data-action=\"confirm\" data-id=\"${arg.event.id}\">✓</button>\n              <button class=\"btn btn-danger btn-sm\" data-action=\"cancel\" data-id=\"${arg.event.id}\">❌</button>\n            </div>`;\n        } else {\n          buttonsHtml = `\n            <div class=\"fc-buttons\">\n              <button class=\"btn btn-danger btn-sm\" data-action=\"cancel\" data-id=\"${arg.event.id}\">❌</button>\n            </div>`;\n        }\n\n        return {\n          html: `\n            <div class=\"fc-event-title\">${arg.event.title}</div>\n            ${buttonsHtml}\n          `\n        };\n      },\n      eventDidMount: (info) => {\n        const booking = info.event.extendedProps;\n        const tooltipContent = `\n          <strong>Guest:</strong> ${booking.guestId || 'Unknown'}<br>\n          <strong>Price:</strong> €${booking.price || 'N/A'}<br>\n          <strong>Status:</strong> ${booking.status || 'N/A'}<br>\n          <strong>Start:</strong> ${info.event.start?.toLocaleString() || ''}<br>\n          <strong>End:</strong> ${info.event.end?.toLocaleString() || ''}\n        `;\n\n        tippy(info.el, {\n          content: tooltipContent,\n          allowHTML: true,\n          placement: 'top',\n          theme: 'light-border',\n          delay: [100, 100],\n          interactive: true,\n        });\n      },\n      events: [],\n      select: (info) => this.handleNewBooking(info, db)\n    });\n\n    this.loadBookings(db);\n\n    if (this.guestSvc.currentBooking) {\n      this.guestSvc.currentBooking.start = this.guestSvc.getIsoTime(Number(this.guestSvc.currentBooking.start));\n      this.guestSvc.currentBooking.end = this.guestSvc.getIsoTime(Number(this.guestSvc.currentBooking.end));\n      const eventToAdd = {\n        id: this.guestSvc.currentBooking.bookingId || String(Math.round(Math.random() * 100000)),\n        ...this.guestSvc.currentBooking,\n        color: '#fd7e14'\n      };\n      this.calendar.addEvent(eventToAdd);\n    }\n\n    this.calendar.render();\n\n    calendarEl.addEventListener('click', (e: any) => this.handleButtonClick(e));\n  }\n\n  private handleNewBooking(info: any, db: any) {\n    Swal.fire({\n      title: 'Confirm Booking',\n      text: `Do you want to book from ${info.startStr} to ${info.endStr}?`,\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonText: 'Yes',\n      cancelButtonText: 'No'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        const bookingId = String(Math.round((Math.random() * 10000)));\n        const newbooking: Bookings = {\n          bookingId: bookingId,\n          hostId: this.guestSvc.currentListing?.owner,\n          locationId: this.guestSvc.currentListing?.locationId,\n          guestId: this.guestSvc.wnGuest?.userId,\n          start: info.startStr,\n          end: info.endStr,\n          daybooking: false,\n          price: this.guestSvc.bookingTime.price,\n          status: BOOKINGSTATUS.PENDINGREQUEST\n        };\n\n        const bookingsRef = ref(db, 'backendbookings');\n        const newBookingRef = push(bookingsRef);\n        set(newBookingRef, newbooking);\n\n        this.calendar.addEvent({ id: bookingId, ...newbooking, color: '#ffc107' });\n\n        Swal.fire('Saved!', 'Booking created successfully.', 'success');\n      }\n    });\n  }\n\n  private handleButtonClick(event: any) {\n    if (event.target.tagName === 'BUTTON') {\n      const action = event.target.getAttribute('data-action');\n      const eventId = event.target.getAttribute('data-id');\n      const calendarEvent = this.calendar.getEventById(eventId);\n\n      if (!calendarEvent) return;\n\n      if (action === 'confirm') {\n        Swal.fire('Confirmed!', 'Booking has been confirmed.', 'success');\n        calendarEvent.setProp('color', '#198754');\n      }\n\n      if (action === 'edit') {\n        Swal.fire('Edit Booking', 'Feature coming soon!', 'info');\n      }\n\n      if (action === 'cancel') {\n        Swal.fire({\n          title: 'Cancel Booking',\n          text: `Do you want to cancel this booking?`,\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonText: 'Yes, cancel it',\n          cancelButtonText: 'No'\n        }).then((result) => {\n          if (result.isConfirmed) {\n            calendarEvent.remove();\n            Swal.fire('Cancelled!', 'Booking has been removed.', 'success');\n          }\n        });\n      }\n    }\n  }\n\n  private loadBookings(db: any) {\n    const bookingsQuery = query(ref(db, 'backendbookings'), orderByChild('locationId'), equalTo(<any>this.guestSvc.currentListing?.locationId));\n\n    get(bookingsQuery).then(snapshot => {\n      const bookings: any[] = [];\n      snapshot.forEach(childSnapshot => {\n        const data = childSnapshot.val();\n        bookings.push({ id: data.bookingId, ...data, color: '#0d6efd' });\n      });\n      this.calendar.addEventSource(bookings);\n    });\n  }\n\n  ngOnDestroy() {}\n\n  ngAfterViewChecked() {}\n\n  createForm() {}\n}\n","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        });\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref) {\n        var name = _ref.name,\n            _ref$options = _ref.options,\n            options = _ref$options === void 0 ? {} : _ref$options,\n            effect = _ref.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","/* eslint-disable @typescript-eslint/member-ordering */\n/* eslint-disable @typescript-eslint/naming-convention */\n/* eslint-disable max-len */\nimport { Injectable } from '@angular/core';\nimport { UsersService, Users, regexEmail, regexMobileNo } from 'godigital-lib';\nimport { Router, } from '@angular/router';\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\nimport { UtilsService, EDITSLIDE } from 'godigital-lib';\nimport { LocalUtilsService } from '../services/services.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ServicesService } from 'godigital-lib';\nimport { FormGroup, FormBuilder, Validators, AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GuestService {\n  public signinForm: FormGroup;\n  public address;\n  public currentPlaceId;\n\n  constructor(\n    private router: Router,\n    public mainSvc: ServicesService,\n    private utilsSvc: UtilsService,\n    private usersSvc: UsersService,\n    public localUtilsSvc: LocalUtilsService,\n    public fb: FormBuilder,\n    public http: HttpClient,\n    public spinner: NgxSpinnerService,\n  ) { }\n\n  // ✅ Date: doit être au moins le prochain jour ouvré\n  futureDateValidator(control: AbstractControl): ValidationErrors | null {\n    const enteredDate = new Date(control.value);\n\n    // Définir aujourd'hui\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    // Définir le \"next working day\"\n    const nextWorkingDay = new Date(today);\n    nextWorkingDay.setDate(today.getDate() + 1);\n\n    // Si samedi (6) ➔ ajouter 2 jours (lundi)\n    if (nextWorkingDay.getDay() === 6) {\n      nextWorkingDay.setDate(nextWorkingDay.getDate() + 2);\n    }\n    // Si dimanche (0) ➔ ajouter 1 jour (lundi)\n    else if (nextWorkingDay.getDay() === 0) {\n      nextWorkingDay.setDate(nextWorkingDay.getDate() + 1);\n    }\n\n    // Remise à 00h00 pour éviter des problèmes d'heures\n    nextWorkingDay.setHours(0, 0, 0, 0);\n\n    return enteredDate >= nextWorkingDay ? null : { pastDate: true };\n  }\n\n  halfHourValidator(control: AbstractControl): ValidationErrors | null {\n    const value = control.value;\n    if (!value) return null;\n\n    const [hours, minutes] = value.split(':').map(Number);\n    if (minutes !== 0 && minutes !== 30) {\n      return { notHalfHour: true };\n    }\n    return null;\n  }\n\n  // Validator pour forcer FROM < TO\n  timeRangeValidator: ValidatorFn = (group: AbstractControl): ValidationErrors | null => {\n    const from = group.get('from')?.value;\n    const to = group.get('to')?.value;\n\n    if (!from || !to) return null;\n\n    // Comparer les heures\n    const [fromHours, fromMinutes] = from.split(':').map(Number);\n    const [toHours, toMinutes] = to.split(':').map(Number);\n\n    const fromTotal = fromHours * 60 + fromMinutes;\n    const toTotal = toHours * 60 + toMinutes;\n\n    if (toTotal <= fromTotal) {\n      return { timeRangeInvalid: true };\n    }\n    return null;\n  }\n\n  getNextWorkingDay(): string {\n    const tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    // If Saturday (6), add 2 days ➔ Monday\n    if (tomorrow.getDay() === 6) {\n      tomorrow.setDate(tomorrow.getDate() + 2);\n    }\n    // If Sunday (0), add 1 day ➔ Monday\n    if (tomorrow.getDay() === 0) {\n      tomorrow.setDate(tomorrow.getDate() + 1);\n    }\n\n    return tomorrow.toISOString().split('T')[0];\n  }\n\n  getTimestamp(date1, time1) {\n\n    let fullDateTime = `${date1}T${time1}:00`; // Combine them into ISO format\n    let timestamp = new Date(fullDateTime).getTime(); // Get timestamp\n\n    return (String(timestamp)); // 👉 Will print timestamp in milliseconds\n  }\n\n  getDuration(startTimestamp, endTimestamp) {\n\n    let durationMs = endTimestamp - startTimestamp; // duration in milliseconds\n    let durationHours = durationMs / (1000 * 60 * 60); // convert ms -> hours\n\n    return (durationHours); // e.g., 3 hours\n  }\n\n  getDate(timestamp) {\n    const dateObj = new Date(Number(timestamp));\n\n    // Format date\n    const date = dateObj.toLocaleDateString();  // e.g., \"4/30/2025\" (depends on your locale)\n    return (date);\n  }\n\n  getTime(timestamp) {\n    const dateObj = new Date(Number(timestamp));\n\n    // Format date\n    const time = dateObj.toLocaleTimeString();  // e.g., \"4:00 PM\" (depends on your locale)\n    return (time);\n  }\n\n  getIsoTime(timestamp) {\n    const date = new Date(timestamp);\n\n    // Convert to ISO string with timezone offset manually\n    const tzOffset = -date.getTimezoneOffset();\n    const diff = tzOffset >= 0 ? '+' : '-';\n    const pad = (n) => String(Math.floor(Math.abs(n))).padStart(2, '0');\n    const isoWithOffset = date.getFullYear()\n      + '-' + pad(date.getMonth() + 1)\n      + '-' + pad(date.getDate())\n      + 'T' + pad(date.getHours())\n      + ':' + pad(date.getMinutes())\n      + ':' + pad(date.getSeconds())\n      + diff + pad(tzOffset / 60) + ':' + pad(tzOffset % 60);\n\n    return (isoWithOffset);\n  }\n\n  get wnGuest() {\n    return this.localUtilsSvc.wnGuest;\n  }\n  set wnGuest(value: Users) {\n    this.localUtilsSvc.wnGuest = value;\n  }\n\n  get errorMessage() {\n    return this.localUtilsSvc.errorMessage;\n  }\n  set errorMessage(value) {\n    this.localUtilsSvc.errorMessage = value;\n  }\n\n  get version() {\n    return this.mainSvc.version;\n  }\n  set version(value) {\n    this.mainSvc.version = value;\n  }\n\n  get locations() {\n    return this.localUtilsSvc.locations;\n  }\n  set locations(value) {\n    this.localUtilsSvc.locations = value;\n  }\n  get filteredLocations() {\n    return this.localUtilsSvc.filteredLocations;\n  }\n  set filteredLocations(value) {\n    this.localUtilsSvc.filteredLocations = value;\n  }\n  get equipments() {\n    return this.localUtilsSvc.equipments;\n  }\n  set equipments(value) {\n    this.localUtilsSvc.equipments = value;\n  }\n  get bookings() {\n    return this.localUtilsSvc.bookings;\n  }\n  set bookings(value) {\n    this.localUtilsSvc.bookings = value;\n  }\n  get locationtypes() {\n    return this.localUtilsSvc.locationtypes;\n  }\n  set locationtypes(value) {\n    this.localUtilsSvc.locationtypes = value;\n  }\n  get currentPosition() {\n    return this.localUtilsSvc.currentPosition;\n  }\n  set currentPosition(value) {\n    this.localUtilsSvc.currentPosition = value;\n  }\n  get searchMode() {\n    return this.localUtilsSvc.searchMode;\n  }\n  set searchMode(value) {\n    this.localUtilsSvc.searchMode = value;\n  }\n  get nearestCity() {\n    return this.localUtilsSvc.nearestCity;\n  }\n  set nearestCity(value) {\n    this.localUtilsSvc.nearestCity = value;\n  }\n  get currentListing() {\n    return this.localUtilsSvc.currentListing;\n  }\n  set currentListing(value) {\n    this.localUtilsSvc.currentListing = value;\n  }\n  get currentEquipments() {\n    return this.localUtilsSvc.currentEquipments;\n  }\n  set currentEquipments(value) {\n    this.localUtilsSvc.currentEquipments = value;\n  }\n  get currentOwner() {\n    return this.localUtilsSvc.currentOwner;\n  }\n  set currentOwner(value) {\n    this.localUtilsSvc.currentOwner = value;\n  }\n  get users() {\n    return this.localUtilsSvc.users;\n  }\n  set users(value) {\n    this.localUtilsSvc.users = value;\n  }\n  get currentBooking() {\n    return this.localUtilsSvc.currentBooking;\n  }\n  set currentBooking(value) {\n    this.localUtilsSvc.currentBooking = value;\n  }\n  get bookingTime() {\n    return this.localUtilsSvc.bookingTime;\n  }\n  set bookingTime(value) {\n    this.localUtilsSvc.bookingTime = value;\n  }\n\n\n}\n","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { FormGroup, FormBuilder, Validators, AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { Bookings, BOOKINGSTATUS, UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { GuestService } from '../guest.service';\nimport { Subscription, } from 'rxjs';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-listings',\n  templateUrl: './listings.component.html',\n  styleUrls: ['./listings.component.css'],\n  imports: [FormsModule]\n})\nexport class ListingsComponent implements OnInit, OnDestroy {\n  @ViewChild('businessaddress', { static: false }) businessaddress: ElementRef;\n  public componentName = 'home.listings';\n  public listingForm: FormGroup;\n  isCollapsed: boolean = true;\n  public subscriptions = new Subscription();\n  public address;\n\n  constructor(\n    public guestSvc: GuestService,\n    public fb: FormBuilder,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n    const nextWorkingDay = this.guestSvc.getNextWorkingDay();\n    const nextWorkingDayStr = nextWorkingDay.toString().split('T')[0];\n\n    this.listingForm.get('date1')?.setValue(nextWorkingDayStr);\n\n    const dateInput = document.getElementById('date1') as HTMLInputElement;\n    if (dateInput) {\n      dateInput.min = nextWorkingDayStr;\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  ngAfterViewInit(): void {\n    this.subscriptions.add(\n      this.utilsSvc.autoCompleteAddress1(this.businessaddress).subscribe(\n        async data => {\n          if (data) {\n            this.address = data;\n          }\n        }));\n  }\n\n  goHome() {\n    this.router.navigate(['/home']);\n  }\n\n  createForm() {\n    const nextday = this.guestSvc.getNextWorkingDay();\n    this.listingForm = this.fb.group({\n      address: ['', Validators.required],\n      date1: [nextday, Validators.required],\n      from: ['09:00', [Validators.required, this.guestSvc.halfHourValidator]],\n      to: ['16:00', [Validators.required, this.guestSvc.halfHourValidator]],\n    }, { validators: this.guestSvc.timeRangeValidator }); // ⬅️ Validator de groupe ici\n  }\n\n  searchListings() {\n    console.log(this.listingForm.value);\n  }\n\n  goToListing(i) {\n    this.guestSvc.currentListing = this.guestSvc.filteredLocations && this.guestSvc.filteredLocations[i];\n    this.guestSvc.currentEquipments = [];\n    if (this.guestSvc.currentListing) {\n      for (let eq of this.guestSvc.currentListing.equipments) {\n        let temp = this.guestSvc.equipments && this.guestSvc.equipments.find(e => e.equipmentId === eq);\n        if (temp) {\n          this.guestSvc.currentEquipments.push(temp);\n        }\n      }\n    }\n    this.guestSvc.currentOwner = this.guestSvc.users?.find(u => {\n      return this.guestSvc.currentListing && u.userId === this.guestSvc.currentListing.owner\n    }) ?? null;\n    if (this.guestSvc.currentOwner && this.guestSvc.currentEquipments && this.guestSvc.currentEquipments.length > 0) {\n      this.guestSvc.currentBooking = {} as Bookings;\n      this.guestSvc.currentBooking.bookingId = String(Math.round(Math.random() * 100000));\n      this.guestSvc.currentBooking.start = this.guestSvc.getTimestamp(this.listingForm.value.date1, this.listingForm.value.from);\n      this.guestSvc.currentBooking.end = this.guestSvc.getTimestamp(this.listingForm.value.date1, this.listingForm.value.to);\n      this.guestSvc.currentBooking.daybooking = false;\n      this.guestSvc.currentBooking.guestId = this.guestSvc.wnGuest ? this.guestSvc.wnGuest.userId : undefined;\n      this.guestSvc.currentBooking.hostId = this.guestSvc.currentOwner.userId;\n      this.guestSvc.currentBooking.status = BOOKINGSTATUS.CREATION;\n\n      let duration = this.guestSvc.getDuration(Number(this.guestSvc.currentBooking.start), Number(this.guestSvc.currentBooking.end));\n      this.guestSvc.currentBooking.price = duration ? Math.round(this.guestSvc.currentListing ? this.guestSvc.currentListing.priceperhour * duration * 100 : 0) / 100 : 0;\n      this.guestSvc.bookingTime.date = this.guestSvc.getDate(this.guestSvc.currentBooking.start);\n      this.guestSvc.bookingTime.startTime = this.guestSvc.getTime(this.guestSvc.currentBooking.start);\n      this.guestSvc.bookingTime.endTime = this.guestSvc.getTime(this.guestSvc.currentBooking.end);\n      this.guestSvc.bookingTime.price = this.guestSvc.currentBooking.price;\n\n      this.router.navigate(['/listing-detail']);\n    }\n  }\n\n}\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","/**!\n* tippy.js v6.3.7\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\nvar TIPPY_DEFAULT_APPEND_TO = function TIPPY_DEFAULT_APPEND_TO() {\n  return document.body;\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return element != null && (_element$ownerDocumen = element.ownerDocument) != null && _element$ownerDocumen.body ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n/**\n * Compared to xxx.contains, this function works for dom structures with shadow\n * dom\n */\n\nfunction actualContains(parent, child) {\n  var target = child;\n\n  while (target) {\n    var _target$getRootNode;\n\n    if (parent.contains(target)) {\n      return true;\n    }\n\n    target = target.getRootNode == null ? void 0 : (_target$getRootNode = target.getRootNode()) == null ? void 0 : _target$getRootNode.host;\n  }\n\n  return false;\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar isIE11 = isBrowser ? // @ts-ignore\n!!window.msCrypto : false;\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: TIPPY_DEFAULT_APPEND_TO,\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      var _name;\n\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : (_name = defaultProps[name]) != null ? _name : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  // 🔒 Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  // 🔑 Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests —\n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function () {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    }\n  });\n  return instance; // ===========================================================================\n  // 🔒 Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles(fromHide) {\n    if (fromHide === void 0) {\n      fromHide = false;\n    }\n\n    popper.style.pointerEvents = instance.props.interactive && !fromHide ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(pluginHooks, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    }\n\n    var actualTarget = event.composedPath && event.composedPath()[0] || event.target; // Clicked on interactive popper\n\n    if (instance.props.interactive && actualContains(popper, actualTarget)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (normalizeToArray(instance.props.triggerTarget || reference).some(function (el) {\n      return actualContains(el, actualTarget);\n    })) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE11 ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === TIPPY_DEFAULT_APPEND_TO || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    instance.state.isMounted = true;\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  // 🔑 Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, prevProps, removeUndefinedProps(partialProps), {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles(true);\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var triggerTargets = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setTriggerTargets() {\n    triggerTargets = individualInstances.map(function (instance) {\n      return normalizeToArray(instance.props.triggerTarget || instance.reference);\n    }).reduce(function (acc, item) {\n      return acc.concat(item);\n    }, []);\n  }\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = triggerTargets.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        var _references$index;\n\n        return (_references$index = references[index]) == null ? void 0 : _references$index.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  setTriggerTargets();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: triggerTargets,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.indexOf(target) >= 0) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.indexOf(target) >= 0) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    setTriggerTargets();\n    interceptSetPropsCleanups = interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: triggerTargets\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({\n    touch: defaultProps.touch\n  }, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) != null && _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          // @ts-ignore - unneeded DOMRect properties\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var triedPlacements = [];\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (triedPlacements.indexOf(state.placement) !== -1) {\n            triedPlacements = [];\n          }\n\n          if (placement !== state.placement && triedPlacements.indexOf(state.placement) === -1) {\n            triedPlacements.push(state.placement);\n            instance.setProps({\n              // @ts-ignore - unneeded DOMRect properties\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          var index = rects.indexOf(cursorRect);\n          cursorRectIndex = index > -1 ? index : cursorRectIndex;\n        }\n      },\n      onHidden: function onHidden() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","/*!\n* sweetalert2 v11.19.1\n* Released under the MIT License.\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Sweetalert2 = factory());\n})(this, (function () { 'use strict';\n\n  function _assertClassBrand(e, t, n) {\n    if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n    throw new TypeError(\"Private element is not present on this object\");\n  }\n  function _checkPrivateRedeclaration(e, t) {\n    if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n  }\n  function _classPrivateFieldGet2(s, a) {\n    return s.get(_assertClassBrand(s, a));\n  }\n  function _classPrivateFieldInitSpec(e, t, a) {\n    _checkPrivateRedeclaration(e, t), t.set(e, a);\n  }\n  function _classPrivateFieldSet2(s, a, r) {\n    return s.set(_assertClassBrand(s, a), r), r;\n  }\n\n  const RESTORE_FOCUS_TIMEOUT = 100;\n\n  /** @type {GlobalState} */\n  const globalState = {};\n  const focusPreviousActiveElement = () => {\n    if (globalState.previousActiveElement instanceof HTMLElement) {\n      globalState.previousActiveElement.focus();\n      globalState.previousActiveElement = null;\n    } else if (document.body) {\n      document.body.focus();\n    }\n  };\n\n  /**\n   * Restore previous active (focused) element\n   *\n   * @param {boolean} returnFocus\n   * @returns {Promise<void>}\n   */\n  const restoreActiveElement = returnFocus => {\n    return new Promise(resolve => {\n      if (!returnFocus) {\n        return resolve();\n      }\n      const x = window.scrollX;\n      const y = window.scrollY;\n      globalState.restoreFocusTimeout = setTimeout(() => {\n        focusPreviousActiveElement();\n        resolve();\n      }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n      window.scrollTo(x, y);\n    });\n  };\n\n  const swalPrefix = 'swal2-';\n\n  /**\n   * @typedef {Record<SwalClass, string>} SwalClasses\n   */\n\n  /**\n   * @typedef {'success' | 'warning' | 'info' | 'question' | 'error'} SwalIcon\n   * @typedef {Record<SwalIcon, string>} SwalIcons\n   */\n\n  /** @type {SwalClass[]} */\n  const classNames = ['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'draggable', 'dragging'];\n  const swalClasses = classNames.reduce((acc, className) => {\n    acc[className] = swalPrefix + className;\n    return acc;\n  }, /** @type {SwalClasses} */{});\n\n  /** @type {SwalIcon[]} */\n  const icons = ['success', 'warning', 'info', 'question', 'error'];\n  const iconTypes = icons.reduce((acc, icon) => {\n    acc[icon] = swalPrefix + icon;\n    return acc;\n  }, /** @type {SwalIcons} */{});\n\n  const consolePrefix = 'SweetAlert2:';\n\n  /**\n   * Capitalize the first letter of a string\n   *\n   * @param {string} str\n   * @returns {string}\n   */\n  const capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n  /**\n   * Standardize console warnings\n   *\n   * @param {string | string[]} message\n   */\n  const warn = message => {\n    console.warn(`${consolePrefix} ${typeof message === 'object' ? message.join(' ') : message}`);\n  };\n\n  /**\n   * Standardize console errors\n   *\n   * @param {string} message\n   */\n  const error = message => {\n    console.error(`${consolePrefix} ${message}`);\n  };\n\n  /**\n   * Private global state for `warnOnce`\n   *\n   * @type {string[]}\n   * @private\n   */\n  const previousWarnOnceMessages = [];\n\n  /**\n   * Show a console warning, but only if it hasn't already been shown\n   *\n   * @param {string} message\n   */\n  const warnOnce = message => {\n    if (!previousWarnOnceMessages.includes(message)) {\n      previousWarnOnceMessages.push(message);\n      warn(message);\n    }\n  };\n\n  /**\n   * Show a one-time console warning about deprecated params/methods\n   *\n   * @param {string} deprecatedParam\n   * @param {string?} useInstead\n   */\n  const warnAboutDeprecation = function (deprecatedParam) {\n    let useInstead = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    warnOnce(`\"${deprecatedParam}\" is deprecated and will be removed in the next major release.${useInstead ? ` Use \"${useInstead}\" instead.` : ''}`);\n  };\n\n  /**\n   * If `arg` is a function, call it (with no arguments or context) and return the result.\n   * Otherwise, just pass the value through\n   *\n   * @param {Function | any} arg\n   * @returns {any}\n   */\n  const callIfFunction = arg => typeof arg === 'function' ? arg() : arg;\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const hasToPromiseFn = arg => arg && typeof arg.toPromise === 'function';\n\n  /**\n   * @param {any} arg\n   * @returns {Promise<any>}\n   */\n  const asPromise = arg => hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n\n  /**\n   * @param {any} arg\n   * @returns {boolean}\n   */\n  const isPromise = arg => arg && Promise.resolve(arg) === arg;\n\n  /**\n   * Gets the popup container which contains the backdrop and the popup itself.\n   *\n   * @returns {HTMLElement | null}\n   */\n  const getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\n\n  /**\n   * @param {string} selectorString\n   * @returns {HTMLElement | null}\n   */\n  const elementBySelector = selectorString => {\n    const container = getContainer();\n    return container ? container.querySelector(selectorString) : null;\n  };\n\n  /**\n   * @param {string} className\n   * @returns {HTMLElement | null}\n   */\n  const elementByClass = className => {\n    return elementBySelector(`.${className}`);\n  };\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getPopup = () => elementByClass(swalClasses.popup);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIcon = () => elementByClass(swalClasses.icon);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getIconContent = () => elementByClass(swalClasses['icon-content']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTitle = () => elementByClass(swalClasses.title);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getHtmlContainer = () => elementByClass(swalClasses['html-container']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getImage = () => elementByClass(swalClasses.image);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getValidationMessage = () => elementByClass(swalClasses['validation-message']);\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getConfirmButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getCancelButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`));\n\n  /**\n   * @returns {HTMLButtonElement | null}\n   */\n  const getDenyButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`));\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getInputLabel = () => elementByClass(swalClasses['input-label']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getLoader = () => elementBySelector(`.${swalClasses.loader}`);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getActions = () => elementByClass(swalClasses.actions);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getFooter = () => elementByClass(swalClasses.footer);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\n\n  /**\n   * @returns {HTMLElement | null}\n   */\n  const getCloseButton = () => elementByClass(swalClasses.close);\n\n  // https://github.com/jkup/focusable/blob/master/index.js\n  const focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\n  /**\n   * @returns {HTMLElement[]}\n   */\n  const getFocusableElements = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return [];\n    }\n    /** @type {NodeListOf<HTMLElement>} */\n    const focusableElementsWithTabindex = popup.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])');\n    const focusableElementsWithTabindexSorted = Array.from(focusableElementsWithTabindex)\n    // sort according to tabindex\n    .sort((a, b) => {\n      const tabindexA = parseInt(a.getAttribute('tabindex') || '0');\n      const tabindexB = parseInt(b.getAttribute('tabindex') || '0');\n      if (tabindexA > tabindexB) {\n        return 1;\n      } else if (tabindexA < tabindexB) {\n        return -1;\n      }\n      return 0;\n    });\n\n    /** @type {NodeListOf<HTMLElement>} */\n    const otherFocusableElements = popup.querySelectorAll(focusable);\n    const otherFocusableElementsFiltered = Array.from(otherFocusableElements).filter(el => el.getAttribute('tabindex') !== '-1');\n    return [...new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))].filter(el => isVisible$1(el));\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isModal = () => {\n    return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isToast = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return hasClass(popup, swalClasses.toast);\n  };\n\n  /**\n   * @returns {boolean}\n   */\n  const isLoading = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    return popup.hasAttribute('data-loading');\n  };\n\n  /**\n   * Securely set innerHTML of an element\n   * https://github.com/sweetalert2/sweetalert2/issues/1926\n   *\n   * @param {HTMLElement} elem\n   * @param {string} html\n   */\n  const setInnerHtml = (elem, html) => {\n    elem.textContent = '';\n    if (html) {\n      const parser = new DOMParser();\n      const parsed = parser.parseFromString(html, `text/html`);\n      const head = parsed.querySelector('head');\n      if (head) {\n        Array.from(head.childNodes).forEach(child => {\n          elem.appendChild(child);\n        });\n      }\n      const body = parsed.querySelector('body');\n      if (body) {\n        Array.from(body.childNodes).forEach(child => {\n          if (child instanceof HTMLVideoElement || child instanceof HTMLAudioElement) {\n            elem.appendChild(child.cloneNode(true)); // https://github.com/sweetalert2/sweetalert2/issues/2507\n          } else {\n            elem.appendChild(child);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {boolean}\n   */\n  const hasClass = (elem, className) => {\n    if (!className) {\n      return false;\n    }\n    const classList = className.split(/\\s+/);\n    for (let i = 0; i < classList.length; i++) {\n      if (!elem.classList.contains(classList[i])) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   */\n  const removeCustomClasses = (elem, params) => {\n    Array.from(elem.classList).forEach(className => {\n      if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass || {}).includes(className)) {\n        elem.classList.remove(className);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {SweetAlertOptions} params\n   * @param {string} className\n   */\n  const applyCustomClass = (elem, params, className) => {\n    removeCustomClasses(elem, params);\n    if (!params.customClass) {\n      return;\n    }\n    const customClass = params.customClass[(/** @type {keyof SweetAlertCustomClass} */className)];\n    if (!customClass) {\n      return;\n    }\n    if (typeof customClass !== 'string' && !customClass.forEach) {\n      warn(`Invalid type of customClass.${className}! Expected string or iterable object, got \"${typeof customClass}\"`);\n      return;\n    }\n    addClass(elem, customClass);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass\n   * @returns {HTMLInputElement | null}\n   */\n  const getInput$1 = (popup, inputClass) => {\n    if (!inputClass) {\n      return null;\n    }\n    switch (inputClass) {\n      case 'select':\n      case 'textarea':\n      case 'file':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses[inputClass]}`);\n      case 'checkbox':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);\n      case 'radio':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`) || popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);\n      case 'range':\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);\n      default:\n        return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`);\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input\n   */\n  const focusInput = input => {\n    input.focus();\n\n    // place cursor at end of text in text input\n    if (input.type !== 'file') {\n      // http://stackoverflow.com/a/2345915\n      const val = input.value;\n      input.value = '';\n      input.value = val;\n    }\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   * @param {boolean} condition\n   */\n  const toggleClass = (target, classList, condition) => {\n    if (!target || !classList) {\n      return;\n    }\n    if (typeof classList === 'string') {\n      classList = classList.split(/\\s+/).filter(Boolean);\n    }\n    classList.forEach(className => {\n      if (Array.isArray(target)) {\n        target.forEach(elem => {\n          if (condition) {\n            elem.classList.add(className);\n          } else {\n            elem.classList.remove(className);\n          }\n        });\n      } else {\n        if (condition) {\n          target.classList.add(className);\n        } else {\n          target.classList.remove(className);\n        }\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const addClass = (target, classList) => {\n    toggleClass(target, classList, true);\n  };\n\n  /**\n   * @param {HTMLElement | HTMLElement[] | null} target\n   * @param {string | string[] | readonly string[] | undefined} classList\n   */\n  const removeClass = (target, classList) => {\n    toggleClass(target, classList, false);\n  };\n\n  /**\n   * Get direct child of an element by class name\n   *\n   * @param {HTMLElement} elem\n   * @param {string} className\n   * @returns {HTMLElement | undefined}\n   */\n  const getDirectChildByClass = (elem, className) => {\n    const children = Array.from(elem.children);\n    for (let i = 0; i < children.length; i++) {\n      const child = children[i];\n      if (child instanceof HTMLElement && hasClass(child, className)) {\n        return child;\n      }\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {string} property\n   * @param {*} value\n   */\n  const applyNumericalStyle = (elem, property, value) => {\n    if (value === `${parseInt(value)}`) {\n      value = parseInt(value);\n    }\n    if (value || parseInt(value) === 0) {\n      elem.style.setProperty(property, typeof value === 'number' ? `${value}px` : value);\n    } else {\n      elem.style.removeProperty(property);\n    }\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const show = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n    if (!elem) {\n      return;\n    }\n    elem.style.display = display;\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   */\n  const hide = elem => {\n    if (!elem) {\n      return;\n    }\n    elem.style.display = 'none';\n  };\n\n  /**\n   * @param {HTMLElement | null} elem\n   * @param {string} display\n   */\n  const showWhenInnerHtmlPresent = function (elem) {\n    let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'block';\n    if (!elem) {\n      return;\n    }\n    new MutationObserver(() => {\n      toggle(elem, elem.innerHTML, display);\n    }).observe(elem, {\n      childList: true,\n      subtree: true\n    });\n  };\n\n  /**\n   * @param {HTMLElement} parent\n   * @param {string} selector\n   * @param {string} property\n   * @param {string} value\n   */\n  const setStyle = (parent, selector, property, value) => {\n    /** @type {HTMLElement | null} */\n    const el = parent.querySelector(selector);\n    if (el) {\n      el.style.setProperty(property, value);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} elem\n   * @param {any} condition\n   * @param {string} display\n   */\n  const toggle = function (elem, condition) {\n    let display = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flex';\n    if (condition) {\n      show(elem, display);\n    } else {\n      hide(elem);\n    }\n  };\n\n  /**\n   * borrowed from jquery $(elem).is(':visible') implementation\n   *\n   * @param {HTMLElement | null} elem\n   * @returns {boolean}\n   */\n  const isVisible$1 = elem => !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n\n  /**\n   * @returns {boolean}\n   */\n  const allButtonsAreHidden = () => !isVisible$1(getConfirmButton()) && !isVisible$1(getDenyButton()) && !isVisible$1(getCancelButton());\n\n  /**\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const isScrollable = elem => !!(elem.scrollHeight > elem.clientHeight);\n\n  /**\n   * borrowed from https://stackoverflow.com/a/46352119\n   *\n   * @param {HTMLElement} elem\n   * @returns {boolean}\n   */\n  const hasCssAnimation = elem => {\n    const style = window.getComputedStyle(elem);\n    const animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n    const transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n    return animDuration > 0 || transDuration > 0;\n  };\n\n  /**\n   * @param {number} timer\n   * @param {boolean} reset\n   */\n  const animateTimerProgressBar = function (timer) {\n    let reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    if (isVisible$1(timerProgressBar)) {\n      if (reset) {\n        timerProgressBar.style.transition = 'none';\n        timerProgressBar.style.width = '100%';\n      }\n      setTimeout(() => {\n        timerProgressBar.style.transition = `width ${timer / 1000}s linear`;\n        timerProgressBar.style.width = '0%';\n      }, 10);\n    }\n  };\n  const stopTimerProgressBar = () => {\n    const timerProgressBar = getTimerProgressBar();\n    if (!timerProgressBar) {\n      return;\n    }\n    const timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    timerProgressBar.style.removeProperty('transition');\n    timerProgressBar.style.width = '100%';\n    const timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n    const timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n    timerProgressBar.style.width = `${timerProgressBarPercent}%`;\n  };\n\n  /**\n   * Detect Node env\n   *\n   * @returns {boolean}\n   */\n  const isNodeEnv = () => typeof window === 'undefined' || typeof document === 'undefined';\n\n  const sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" id=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\" id=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" id=\"${swalClasses.checkbox}\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\" id=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\n  /**\n   * @returns {boolean}\n   */\n  const resetOldContainer = () => {\n    const oldContainer = getContainer();\n    if (!oldContainer) {\n      return false;\n    }\n    oldContainer.remove();\n    removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n    return true;\n  };\n  const resetValidationMessage$1 = () => {\n    globalState.currentInstance.resetValidationMessage();\n  };\n  const addInputChangeListeners = () => {\n    const popup = getPopup();\n    const input = getDirectChildByClass(popup, swalClasses.input);\n    const file = getDirectChildByClass(popup, swalClasses.file);\n    /** @type {HTMLInputElement} */\n    const range = popup.querySelector(`.${swalClasses.range} input`);\n    /** @type {HTMLOutputElement} */\n    const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    /** @type {HTMLInputElement} */\n    const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n    const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n    input.oninput = resetValidationMessage$1;\n    file.onchange = resetValidationMessage$1;\n    select.onchange = resetValidationMessage$1;\n    checkbox.onchange = resetValidationMessage$1;\n    textarea.oninput = resetValidationMessage$1;\n    range.oninput = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n    range.onchange = () => {\n      resetValidationMessage$1();\n      rangeOutput.value = range.value;\n    };\n  };\n\n  /**\n   * @param {string | HTMLElement} target\n   * @returns {HTMLElement}\n   */\n  const getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setupAccessibility = params => {\n    const popup = getPopup();\n    popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n    popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n    if (!params.toast) {\n      popup.setAttribute('aria-modal', 'true');\n    }\n  };\n\n  /**\n   * @param {HTMLElement} targetElement\n   */\n  const setupRTL = targetElement => {\n    if (window.getComputedStyle(targetElement).direction === 'rtl') {\n      addClass(getContainer(), swalClasses.rtl);\n    }\n  };\n\n  /**\n   * Add modal + backdrop + no-war message for Russians to DOM\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const init = params => {\n    // Clean up the old popup container if it exists\n    const oldContainerExisted = resetOldContainer();\n    if (isNodeEnv()) {\n      error('SweetAlert2 requires document to initialize');\n      return;\n    }\n    const container = document.createElement('div');\n    container.className = swalClasses.container;\n    if (oldContainerExisted) {\n      addClass(container, swalClasses['no-transition']);\n    }\n    setInnerHtml(container, sweetHTML);\n    container.dataset['swal2Theme'] = params.theme;\n    const targetElement = getTarget(params.target);\n    targetElement.appendChild(container);\n    setupAccessibility(params);\n    setupRTL(targetElement);\n    addInputChangeListeners();\n  };\n\n  /**\n   * @param {HTMLElement | object | string} param\n   * @param {HTMLElement} target\n   */\n  const parseHtmlToContainer = (param, target) => {\n    // DOM element\n    if (param instanceof HTMLElement) {\n      target.appendChild(param);\n    }\n\n    // Object\n    else if (typeof param === 'object') {\n      handleObject(param, target);\n    }\n\n    // Plain string\n    else if (param) {\n      setInnerHtml(target, param);\n    }\n  };\n\n  /**\n   * @param {any} param\n   * @param {HTMLElement} target\n   */\n  const handleObject = (param, target) => {\n    // JQuery element(s)\n    if (param.jquery) {\n      handleJqueryElem(target, param);\n    }\n\n    // For other objects use their string representation\n    else {\n      setInnerHtml(target, param.toString());\n    }\n  };\n\n  /**\n   * @param {HTMLElement} target\n   * @param {any} elem\n   */\n  const handleJqueryElem = (target, elem) => {\n    target.textContent = '';\n    if (0 in elem) {\n      for (let i = 0; i in elem; i++) {\n        target.appendChild(elem[i].cloneNode(true));\n      }\n    } else {\n      target.appendChild(elem.cloneNode(true));\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderActions = (instance, params) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n\n    // Actions (buttons) wrapper\n    if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n      hide(actions);\n    } else {\n      show(actions);\n    }\n\n    // Custom class\n    applyCustomClass(actions, params, 'actions');\n\n    // Render all the buttons\n    renderButtons(actions, loader, params);\n\n    // Loader\n    setInnerHtml(loader, params.loaderHtml || '');\n    applyCustomClass(loader, params, 'loader');\n  };\n\n  /**\n   * @param {HTMLElement} actions\n   * @param {HTMLElement} loader\n   * @param {SweetAlertOptions} params\n   */\n  function renderButtons(actions, loader, params) {\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n\n    // Render buttons\n    renderButton(confirmButton, 'confirm', params);\n    renderButton(denyButton, 'deny', params);\n    renderButton(cancelButton, 'cancel', params);\n    handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n    if (params.reverseButtons) {\n      if (params.toast) {\n        actions.insertBefore(cancelButton, confirmButton);\n        actions.insertBefore(denyButton, confirmButton);\n      } else {\n        actions.insertBefore(cancelButton, loader);\n        actions.insertBefore(denyButton, loader);\n        actions.insertBefore(confirmButton, loader);\n      }\n    }\n  }\n\n  /**\n   * @param {HTMLElement} confirmButton\n   * @param {HTMLElement} denyButton\n   * @param {HTMLElement} cancelButton\n   * @param {SweetAlertOptions} params\n   */\n  function handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n    if (!params.buttonsStyling) {\n      removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n      return;\n    }\n    addClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n\n    // Apply custom background colors to action buttons\n    if (params.confirmButtonColor) {\n      confirmButton.style.setProperty('--swal2-confirm-button-background-color', params.confirmButtonColor);\n    }\n    if (params.denyButtonColor) {\n      denyButton.style.setProperty('--swal2-deny-button-background-color', params.denyButtonColor);\n    }\n    if (params.cancelButtonColor) {\n      cancelButton.style.setProperty('--swal2-cancel-button-background-color', params.cancelButtonColor);\n    }\n\n    // Apply the outline color to action buttons\n    applyOutlineColor(confirmButton);\n    applyOutlineColor(denyButton);\n    applyOutlineColor(cancelButton);\n  }\n\n  /**\n   * @param {HTMLElement} button\n   */\n  function applyOutlineColor(button) {\n    const buttonStyle = window.getComputedStyle(button);\n    const outlineColor = buttonStyle.backgroundColor.replace(/rgba?\\((\\d+), (\\d+), (\\d+).*/, 'rgba($1, $2, $3, 0.5)');\n    button.style.setProperty('--swal2-action-button-outline', buttonStyle.getPropertyValue('--swal2-outline').replace(/ rgba\\(.*/, ` ${outlineColor}`));\n  }\n\n  /**\n   * @param {HTMLElement} button\n   * @param {'confirm' | 'deny' | 'cancel'} buttonType\n   * @param {SweetAlertOptions} params\n   */\n  function renderButton(button, buttonType, params) {\n    const buttonName = /** @type {'Confirm' | 'Deny' | 'Cancel'} */capitalizeFirstLetter(buttonType);\n    toggle(button, params[`show${buttonName}Button`], 'inline-block');\n    setInnerHtml(button, params[`${buttonType}ButtonText`] || ''); // Set caption text\n    button.setAttribute('aria-label', params[`${buttonType}ButtonAriaLabel`] || ''); // ARIA label\n\n    // Add buttons custom classes\n    button.className = swalClasses[buttonType];\n    applyCustomClass(button, params, `${buttonType}Button`);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderCloseButton = (instance, params) => {\n    const closeButton = getCloseButton();\n    if (!closeButton) {\n      return;\n    }\n    setInnerHtml(closeButton, params.closeButtonHtml || '');\n\n    // Custom class\n    applyCustomClass(closeButton, params, 'closeButton');\n    toggle(closeButton, params.showCloseButton);\n    closeButton.setAttribute('aria-label', params.closeButtonAriaLabel || '');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContainer = (instance, params) => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    handleBackdropParam(container, params.backdrop);\n    handlePositionParam(container, params.position);\n    handleGrowParam(container, params.grow);\n\n    // Custom class\n    applyCustomClass(container, params, 'container');\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['backdrop']} backdrop\n   */\n  function handleBackdropParam(container, backdrop) {\n    if (typeof backdrop === 'string') {\n      container.style.background = backdrop;\n    } else if (!backdrop) {\n      addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['position']} position\n   */\n  function handlePositionParam(container, position) {\n    if (!position) {\n      return;\n    }\n    if (position in swalClasses) {\n      addClass(container, swalClasses[position]);\n    } else {\n      warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n      addClass(container, swalClasses.center);\n    }\n  }\n\n  /**\n   * @param {HTMLElement} container\n   * @param {SweetAlertOptions['grow']} grow\n   */\n  function handleGrowParam(container, grow) {\n    if (!grow) {\n      return;\n    }\n    addClass(container, swalClasses[`grow-${grow}`]);\n  }\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateProps = {\n    innerParams: new WeakMap(),\n    domCache: new WeakMap()\n  };\n\n  /// <reference path=\"../../../../sweetalert2.d.ts\"/>\n\n\n  /** @type {InputClass[]} */\n  const inputClasses = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderInput = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    const rerender = !innerParams || params.input !== innerParams.input;\n    inputClasses.forEach(inputClass => {\n      const inputContainer = getDirectChildByClass(popup, swalClasses[inputClass]);\n      if (!inputContainer) {\n        return;\n      }\n\n      // set attributes\n      setAttributes(inputClass, params.inputAttributes);\n\n      // set class\n      inputContainer.className = swalClasses[inputClass];\n      if (rerender) {\n        hide(inputContainer);\n      }\n    });\n    if (params.input) {\n      if (rerender) {\n        showInput(params);\n      }\n      // set custom class\n      setCustomClass(params);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const showInput = params => {\n    if (!params.input) {\n      return;\n    }\n    if (!renderInputType[params.input]) {\n      error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(' | ')}, got \"${params.input}\"`);\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (!inputContainer) {\n      return;\n    }\n    const input = renderInputType[params.input](inputContainer, params);\n    show(inputContainer);\n\n    // input autofocus\n    if (params.inputAutoFocus) {\n      setTimeout(() => {\n        focusInput(input);\n      });\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   */\n  const removeAttributes = input => {\n    for (let i = 0; i < input.attributes.length; i++) {\n      const attrName = input.attributes[i].name;\n      if (!['id', 'type', 'value', 'style'].includes(attrName)) {\n        input.removeAttribute(attrName);\n      }\n    }\n  };\n\n  /**\n   * @param {InputClass} inputClass\n   * @param {SweetAlertOptions['inputAttributes']} inputAttributes\n   */\n  const setAttributes = (inputClass, inputAttributes) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const input = getInput$1(popup, inputClass);\n    if (!input) {\n      return;\n    }\n    removeAttributes(input);\n    for (const attr in inputAttributes) {\n      input.setAttribute(attr, inputAttributes[attr]);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  const setCustomClass = params => {\n    if (!params.input) {\n      return;\n    }\n    const inputContainer = getInputContainer(params.input);\n    if (inputContainer) {\n      applyCustomClass(inputContainer, params, 'input');\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions} params\n   */\n  const setInputPlaceholder = (input, params) => {\n    if (!input.placeholder && params.inputPlaceholder) {\n      input.placeholder = params.inputPlaceholder;\n    }\n  };\n\n  /**\n   * @param {Input} input\n   * @param {Input} prependTo\n   * @param {SweetAlertOptions} params\n   */\n  const setInputLabel = (input, prependTo, params) => {\n    if (params.inputLabel) {\n      const label = document.createElement('label');\n      const labelClass = swalClasses['input-label'];\n      label.setAttribute('for', input.id);\n      label.className = labelClass;\n      if (typeof params.customClass === 'object') {\n        addClass(label, params.customClass.inputLabel);\n      }\n      label.innerText = params.inputLabel;\n      prependTo.insertAdjacentElement('beforebegin', label);\n    }\n  };\n\n  /**\n   * @param {SweetAlertInput} inputType\n   * @returns {HTMLElement | undefined}\n   */\n  const getInputContainer = inputType => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    return getDirectChildByClass(popup, swalClasses[(/** @type {SwalClass} */inputType)] || swalClasses.input);\n  };\n\n  /**\n   * @param {HTMLInputElement | HTMLOutputElement | HTMLTextAreaElement} input\n   * @param {SweetAlertOptions['inputValue']} inputValue\n   */\n  const checkAndSetInputValue = (input, inputValue) => {\n    if (['string', 'number'].includes(typeof inputValue)) {\n      input.value = `${inputValue}`;\n    } else if (!isPromise(inputValue)) {\n      warn(`Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"${typeof inputValue}\"`);\n    }\n  };\n\n  /** @type {Record<SweetAlertInput, (input: Input | HTMLElement, params: SweetAlertOptions) => Input>} */\n  const renderInputType = {};\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = renderInputType.search = renderInputType.date = renderInputType['datetime-local'] = renderInputType.time = renderInputType.week = renderInputType.month = /** @type {(input: Input | HTMLElement, params: SweetAlertOptions) => Input} */\n  (input, params) => {\n    checkAndSetInputValue(input, params.inputValue);\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    input.type = params.input;\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.file = (input, params) => {\n    setInputLabel(input, input, params);\n    setInputPlaceholder(input, params);\n    return input;\n  };\n\n  /**\n   * @param {HTMLInputElement} range\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.range = (range, params) => {\n    const rangeInput = range.querySelector('input');\n    const rangeOutput = range.querySelector('output');\n    checkAndSetInputValue(rangeInput, params.inputValue);\n    rangeInput.type = params.input;\n    checkAndSetInputValue(rangeOutput, params.inputValue);\n    setInputLabel(rangeInput, range, params);\n    return range;\n  };\n\n  /**\n   * @param {HTMLSelectElement} select\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLSelectElement}\n   */\n  renderInputType.select = (select, params) => {\n    select.textContent = '';\n    if (params.inputPlaceholder) {\n      const placeholder = document.createElement('option');\n      setInnerHtml(placeholder, params.inputPlaceholder);\n      placeholder.value = '';\n      placeholder.disabled = true;\n      placeholder.selected = true;\n      select.appendChild(placeholder);\n    }\n    setInputLabel(select, select, params);\n    return select;\n  };\n\n  /**\n   * @param {HTMLInputElement} radio\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.radio = radio => {\n    radio.textContent = '';\n    return radio;\n  };\n\n  /**\n   * @param {HTMLLabelElement} checkboxContainer\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLInputElement}\n   */\n  renderInputType.checkbox = (checkboxContainer, params) => {\n    const checkbox = getInput$1(getPopup(), 'checkbox');\n    checkbox.value = '1';\n    checkbox.checked = Boolean(params.inputValue);\n    const label = checkboxContainer.querySelector('span');\n    setInnerHtml(label, params.inputPlaceholder || params.inputLabel);\n    return checkbox;\n  };\n\n  /**\n   * @param {HTMLTextAreaElement} textarea\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLTextAreaElement}\n   */\n  renderInputType.textarea = (textarea, params) => {\n    checkAndSetInputValue(textarea, params.inputValue);\n    setInputPlaceholder(textarea, params);\n    setInputLabel(textarea, textarea, params);\n\n    /**\n     * @param {HTMLElement} el\n     * @returns {number}\n     */\n    const getMargin = el => parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n\n    // https://github.com/sweetalert2/sweetalert2/issues/2291\n    setTimeout(() => {\n      // https://github.com/sweetalert2/sweetalert2/issues/1699\n      if ('MutationObserver' in window) {\n        const initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n        const textareaResizeHandler = () => {\n          // check if texarea is still in document (i.e. popup wasn't closed in the meantime)\n          if (!document.body.contains(textarea)) {\n            return;\n          }\n          const textareaWidth = textarea.offsetWidth + getMargin(textarea);\n          if (textareaWidth > initialPopupWidth) {\n            getPopup().style.width = `${textareaWidth}px`;\n          } else {\n            applyNumericalStyle(getPopup(), 'width', params.width);\n          }\n        };\n        new MutationObserver(textareaResizeHandler).observe(textarea, {\n          attributes: true,\n          attributeFilter: ['style']\n        });\n      }\n    });\n    return textarea;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderContent = (instance, params) => {\n    const htmlContainer = getHtmlContainer();\n    if (!htmlContainer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(htmlContainer);\n    applyCustomClass(htmlContainer, params, 'htmlContainer');\n\n    // Content as HTML\n    if (params.html) {\n      parseHtmlToContainer(params.html, htmlContainer);\n      show(htmlContainer, 'block');\n    }\n\n    // Content as plain text\n    else if (params.text) {\n      htmlContainer.textContent = params.text;\n      show(htmlContainer, 'block');\n    }\n\n    // No content\n    else {\n      hide(htmlContainer);\n    }\n    renderInput(instance, params);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderFooter = (instance, params) => {\n    const footer = getFooter();\n    if (!footer) {\n      return;\n    }\n    showWhenInnerHtmlPresent(footer);\n    toggle(footer, params.footer, 'block');\n    if (params.footer) {\n      parseHtmlToContainer(params.footer, footer);\n    }\n\n    // Custom class\n    applyCustomClass(footer, params, 'footer');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderIcon = (instance, params) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    const icon = getIcon();\n    if (!icon) {\n      return;\n    }\n\n    // if the given icon already rendered, apply the styling without re-rendering the icon\n    if (innerParams && params.icon === innerParams.icon) {\n      // Custom or default content\n      setContent(icon, params);\n      applyStyles(icon, params);\n      return;\n    }\n    if (!params.icon && !params.iconHtml) {\n      hide(icon);\n      return;\n    }\n    if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n      error(`Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"${params.icon}\"`);\n      hide(icon);\n      return;\n    }\n    show(icon);\n\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n\n    // Animate icon\n    addClass(icon, params.showClass && params.showClass.icon);\n\n    // Re-adjust the success icon on system theme change\n    const colorSchemeQueryList = window.matchMedia('(prefers-color-scheme: dark)');\n    colorSchemeQueryList.addEventListener('change', adjustSuccessIconBackgroundColor);\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const applyStyles = (icon, params) => {\n    for (const [iconType, iconClassName] of Object.entries(iconTypes)) {\n      if (params.icon !== iconType) {\n        removeClass(icon, iconClassName);\n      }\n    }\n    addClass(icon, params.icon && iconTypes[params.icon]);\n\n    // Icon color\n    setColor(icon, params);\n\n    // Success icon background color\n    adjustSuccessIconBackgroundColor();\n\n    // Custom class\n    applyCustomClass(icon, params, 'icon');\n  };\n\n  // Adjust success icon background color to match the popup background color\n  const adjustSuccessIconBackgroundColor = () => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n    /** @type {NodeListOf<HTMLElement>} */\n    const successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n    for (let i = 0; i < successIconParts.length; i++) {\n      successIconParts[i].style.backgroundColor = popupBackgroundColor;\n    }\n  };\n  const successIconHtml = `\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n`;\n  const errorIconHtml = `\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n`;\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setContent = (icon, params) => {\n    if (!params.icon && !params.iconHtml) {\n      return;\n    }\n    let oldContent = icon.innerHTML;\n    let newContent = '';\n    if (params.iconHtml) {\n      newContent = iconContent(params.iconHtml);\n    } else if (params.icon === 'success') {\n      newContent = successIconHtml;\n      oldContent = oldContent.replace(/ style=\".*?\"/g, ''); // undo adjustSuccessIconBackgroundColor()\n    } else if (params.icon === 'error') {\n      newContent = errorIconHtml;\n    } else if (params.icon) {\n      const defaultIconHtml = {\n        question: '?',\n        warning: '!',\n        info: 'i'\n      };\n      newContent = iconContent(defaultIconHtml[params.icon]);\n    }\n    if (oldContent.trim() !== newContent.trim()) {\n      setInnerHtml(icon, newContent);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} icon\n   * @param {SweetAlertOptions} params\n   */\n  const setColor = (icon, params) => {\n    if (!params.iconColor) {\n      return;\n    }\n    icon.style.color = params.iconColor;\n    icon.style.borderColor = params.iconColor;\n    for (const sel of ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']) {\n      setStyle(icon, sel, 'background-color', params.iconColor);\n    }\n    setStyle(icon, '.swal2-success-ring', 'border-color', params.iconColor);\n  };\n\n  /**\n   * @param {string} content\n   * @returns {string}\n   */\n  const iconContent = content => `<div class=\"${swalClasses['icon-content']}\">${content}</div>`;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderImage = (instance, params) => {\n    const image = getImage();\n    if (!image) {\n      return;\n    }\n    if (!params.imageUrl) {\n      hide(image);\n      return;\n    }\n    show(image, '');\n\n    // Src, alt\n    image.setAttribute('src', params.imageUrl);\n    image.setAttribute('alt', params.imageAlt || '');\n\n    // Width, height\n    applyNumericalStyle(image, 'width', params.imageWidth);\n    applyNumericalStyle(image, 'height', params.imageHeight);\n\n    // Class\n    image.className = swalClasses.image;\n    applyCustomClass(image, params, 'image');\n  };\n\n  let dragging = false;\n  let mousedownX = 0;\n  let mousedownY = 0;\n  let initialX = 0;\n  let initialY = 0;\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const addDraggableListeners = popup => {\n    popup.addEventListener('mousedown', down);\n    document.body.addEventListener('mousemove', move);\n    popup.addEventListener('mouseup', up);\n    popup.addEventListener('touchstart', down);\n    document.body.addEventListener('touchmove', move);\n    popup.addEventListener('touchend', up);\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   */\n  const removeDraggableListeners = popup => {\n    popup.removeEventListener('mousedown', down);\n    document.body.removeEventListener('mousemove', move);\n    popup.removeEventListener('mouseup', up);\n    popup.removeEventListener('touchstart', down);\n    document.body.removeEventListener('touchmove', move);\n    popup.removeEventListener('touchend', up);\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const down = event => {\n    const popup = getPopup();\n    if (event.target === popup || getIcon().contains(/** @type {HTMLElement} */event.target)) {\n      dragging = true;\n      const clientXY = getClientXY(event);\n      mousedownX = clientXY.clientX;\n      mousedownY = clientXY.clientY;\n      initialX = parseInt(popup.style.insetInlineStart) || 0;\n      initialY = parseInt(popup.style.insetBlockStart) || 0;\n      addClass(popup, 'swal2-dragging');\n    }\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   */\n  const move = event => {\n    const popup = getPopup();\n    if (dragging) {\n      let {\n        clientX,\n        clientY\n      } = getClientXY(event);\n      popup.style.insetInlineStart = `${initialX + (clientX - mousedownX)}px`;\n      popup.style.insetBlockStart = `${initialY + (clientY - mousedownY)}px`;\n    }\n  };\n  const up = () => {\n    const popup = getPopup();\n    dragging = false;\n    removeClass(popup, 'swal2-dragging');\n  };\n\n  /**\n   * @param {MouseEvent | TouchEvent} event\n   * @returns {{ clientX: number, clientY: number }}\n   */\n  const getClientXY = event => {\n    let clientX = 0,\n      clientY = 0;\n    if (event.type.startsWith('mouse')) {\n      clientX = /** @type {MouseEvent} */event.clientX;\n      clientY = /** @type {MouseEvent} */event.clientY;\n    } else if (event.type.startsWith('touch')) {\n      clientX = /** @type {TouchEvent} */event.touches[0].clientX;\n      clientY = /** @type {TouchEvent} */event.touches[0].clientY;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderPopup = (instance, params) => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (!container || !popup) {\n      return;\n    }\n\n    // Width\n    // https://github.com/sweetalert2/sweetalert2/issues/2170\n    if (params.toast) {\n      applyNumericalStyle(container, 'width', params.width);\n      popup.style.width = '100%';\n      const loader = getLoader();\n      if (loader) {\n        popup.insertBefore(loader, getIcon());\n      }\n    } else {\n      applyNumericalStyle(popup, 'width', params.width);\n    }\n\n    // Padding\n    applyNumericalStyle(popup, 'padding', params.padding);\n\n    // Color\n    if (params.color) {\n      popup.style.color = params.color;\n    }\n\n    // Background\n    if (params.background) {\n      popup.style.background = params.background;\n    }\n    hide(getValidationMessage());\n\n    // Classes\n    addClasses$1(popup, params);\n    if (params.draggable && !params.toast) {\n      addClass(popup, swalClasses.draggable);\n      addDraggableListeners(popup);\n    } else {\n      removeClass(popup, swalClasses.draggable);\n      removeDraggableListeners(popup);\n    }\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses$1 = (popup, params) => {\n    const showClass = params.showClass || {};\n    // Default Class + showClass when updating Swal.update({})\n    popup.className = `${swalClasses.popup} ${isVisible$1(popup) ? showClass.popup : ''}`;\n    if (params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n      addClass(popup, swalClasses.toast);\n    } else {\n      addClass(popup, swalClasses.modal);\n    }\n\n    // Custom class\n    applyCustomClass(popup, params, 'popup');\n    // TODO: remove in the next major\n    if (typeof params.customClass === 'string') {\n      addClass(popup, params.customClass);\n    }\n\n    // Icon class (#1842)\n    if (params.icon) {\n      addClass(popup, swalClasses[`icon-${params.icon}`]);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderProgressSteps = (instance, params) => {\n    const progressStepsContainer = getProgressSteps();\n    if (!progressStepsContainer) {\n      return;\n    }\n    const {\n      progressSteps,\n      currentProgressStep\n    } = params;\n    if (!progressSteps || progressSteps.length === 0 || currentProgressStep === undefined) {\n      hide(progressStepsContainer);\n      return;\n    }\n    show(progressStepsContainer);\n    progressStepsContainer.textContent = '';\n    if (currentProgressStep >= progressSteps.length) {\n      warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n    }\n    progressSteps.forEach((step, index) => {\n      const stepEl = createStepElement(step);\n      progressStepsContainer.appendChild(stepEl);\n      if (index === currentProgressStep) {\n        addClass(stepEl, swalClasses['active-progress-step']);\n      }\n      if (index !== progressSteps.length - 1) {\n        const lineEl = createLineElement(params);\n        progressStepsContainer.appendChild(lineEl);\n      }\n    });\n  };\n\n  /**\n   * @param {string} step\n   * @returns {HTMLLIElement}\n   */\n  const createStepElement = step => {\n    const stepEl = document.createElement('li');\n    addClass(stepEl, swalClasses['progress-step']);\n    setInnerHtml(stepEl, step);\n    return stepEl;\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {HTMLLIElement}\n   */\n  const createLineElement = params => {\n    const lineEl = document.createElement('li');\n    addClass(lineEl, swalClasses['progress-step-line']);\n    if (params.progressStepsDistance) {\n      applyNumericalStyle(lineEl, 'width', params.progressStepsDistance);\n    }\n    return lineEl;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const renderTitle = (instance, params) => {\n    const title = getTitle();\n    if (!title) {\n      return;\n    }\n    showWhenInnerHtmlPresent(title);\n    toggle(title, params.title || params.titleText, 'block');\n    if (params.title) {\n      parseHtmlToContainer(params.title, title);\n    }\n    if (params.titleText) {\n      title.innerText = params.titleText;\n    }\n\n    // Custom class\n    applyCustomClass(title, params, 'title');\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const render = (instance, params) => {\n    renderPopup(instance, params);\n    renderContainer(instance, params);\n    renderProgressSteps(instance, params);\n    renderIcon(instance, params);\n    renderImage(instance, params);\n    renderTitle(instance, params);\n    renderCloseButton(instance, params);\n    renderContent(instance, params);\n    renderActions(instance, params);\n    renderFooter(instance, params);\n    const popup = getPopup();\n    if (typeof params.didRender === 'function' && popup) {\n      params.didRender(popup);\n    }\n    globalState.eventEmitter.emit('didRender', popup);\n  };\n\n  /*\n   * Global function to determine if SweetAlert2 popup is shown\n   */\n  const isVisible = () => {\n    return isVisible$1(getPopup());\n  };\n\n  /*\n   * Global function to click 'Confirm' button\n   */\n  const clickConfirm = () => {\n    var _dom$getConfirmButton;\n    return (_dom$getConfirmButton = getConfirmButton()) === null || _dom$getConfirmButton === void 0 ? void 0 : _dom$getConfirmButton.click();\n  };\n\n  /*\n   * Global function to click 'Deny' button\n   */\n  const clickDeny = () => {\n    var _dom$getDenyButton;\n    return (_dom$getDenyButton = getDenyButton()) === null || _dom$getDenyButton === void 0 ? void 0 : _dom$getDenyButton.click();\n  };\n\n  /*\n   * Global function to click 'Cancel' button\n   */\n  const clickCancel = () => {\n    var _dom$getCancelButton;\n    return (_dom$getCancelButton = getCancelButton()) === null || _dom$getCancelButton === void 0 ? void 0 : _dom$getCancelButton.click();\n  };\n\n  /** @typedef {'cancel' | 'backdrop' | 'close' | 'esc' | 'timer'} DismissReason */\n\n  /** @type {Record<DismissReason, DismissReason>} */\n  const DismissReason = Object.freeze({\n    cancel: 'cancel',\n    backdrop: 'backdrop',\n    close: 'close',\n    esc: 'esc',\n    timer: 'timer'\n  });\n\n  /**\n   * @param {GlobalState} globalState\n   */\n  const removeKeydownHandler = globalState => {\n    if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n      globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = false;\n    }\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {*} dismissWith\n   */\n  const addKeydownHandler = (globalState, innerParams, dismissWith) => {\n    removeKeydownHandler(globalState);\n    if (!innerParams.toast) {\n      globalState.keydownHandler = e => keydownHandler(innerParams, e, dismissWith);\n      globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n      globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n      globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n        capture: globalState.keydownListenerCapture\n      });\n      globalState.keydownHandlerAdded = true;\n    }\n  };\n\n  /**\n   * @param {number} index\n   * @param {number} increment\n   */\n  const setFocus = (index, increment) => {\n    var _dom$getPopup;\n    const focusableElements = getFocusableElements();\n    // search for visible elements and select the next possible match\n    if (focusableElements.length) {\n      index = index + increment;\n\n      // shift + tab when .swal2-popup is focused\n      if (index === -2) {\n        index = focusableElements.length - 1;\n      }\n\n      // rollover to first item\n      if (index === focusableElements.length) {\n        index = 0;\n\n        // go to last item\n      } else if (index === -1) {\n        index = focusableElements.length - 1;\n      }\n      focusableElements[index].focus();\n      return;\n    }\n    // no visible focusable elements, focus the popup\n    (_dom$getPopup = getPopup()) === null || _dom$getPopup === void 0 || _dom$getPopup.focus();\n  };\n  const arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\n  const arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {KeyboardEvent} event\n   * @param {Function} dismissWith\n   */\n  const keydownHandler = (innerParams, event, dismissWith) => {\n    if (!innerParams) {\n      return; // This instance has already been destroyed\n    }\n\n    // Ignore keydown during IME composition\n    // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n    // https://github.com/sweetalert2/sweetalert2/issues/720\n    // https://github.com/sweetalert2/sweetalert2/issues/2406\n    if (event.isComposing || event.keyCode === 229) {\n      return;\n    }\n    if (innerParams.stopKeydownPropagation) {\n      event.stopPropagation();\n    }\n\n    // ENTER\n    if (event.key === 'Enter') {\n      handleEnter(event, innerParams);\n    }\n\n    // TAB\n    else if (event.key === 'Tab') {\n      handleTab(event);\n    }\n\n    // ARROWS - switch focus between buttons\n    else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(event.key)) {\n      handleArrows(event.key);\n    }\n\n    // ESC\n    else if (event.key === 'Escape') {\n      handleEsc(event, innerParams, dismissWith);\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handleEnter = (event, innerParams) => {\n    // https://github.com/sweetalert2/sweetalert2/issues/2386\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      return;\n    }\n    const input = getInput$1(getPopup(), innerParams.input);\n    if (event.target && input && event.target instanceof HTMLElement && event.target.outerHTML === input.outerHTML) {\n      if (['textarea', 'file'].includes(innerParams.input)) {\n        return; // do not submit\n      }\n      clickConfirm();\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   */\n  const handleTab = event => {\n    const targetElement = event.target;\n    const focusableElements = getFocusableElements();\n    let btnIndex = -1;\n    for (let i = 0; i < focusableElements.length; i++) {\n      if (targetElement === focusableElements[i]) {\n        btnIndex = i;\n        break;\n      }\n    }\n\n    // Cycle to the next button\n    if (!event.shiftKey) {\n      setFocus(btnIndex, 1);\n    }\n\n    // Cycle to the prev button\n    else {\n      setFocus(btnIndex, -1);\n    }\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * @param {string} key\n   */\n  const handleArrows = key => {\n    const actions = getActions();\n    const confirmButton = getConfirmButton();\n    const denyButton = getDenyButton();\n    const cancelButton = getCancelButton();\n    if (!actions || !confirmButton || !denyButton || !cancelButton) {\n      return;\n    }\n    /** @type HTMLElement[] */\n    const buttons = [confirmButton, denyButton, cancelButton];\n    if (document.activeElement instanceof HTMLElement && !buttons.includes(document.activeElement)) {\n      return;\n    }\n    const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n    let buttonToFocus = document.activeElement;\n    if (!buttonToFocus) {\n      return;\n    }\n    for (let i = 0; i < actions.children.length; i++) {\n      buttonToFocus = buttonToFocus[sibling];\n      if (!buttonToFocus) {\n        return;\n      }\n      if (buttonToFocus instanceof HTMLButtonElement && isVisible$1(buttonToFocus)) {\n        break;\n      }\n    }\n    if (buttonToFocus instanceof HTMLButtonElement) {\n      buttonToFocus.focus();\n    }\n  };\n\n  /**\n   * @param {KeyboardEvent} event\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const handleEsc = (event, innerParams, dismissWith) => {\n    if (callIfFunction(innerParams.allowEscapeKey)) {\n      event.preventDefault();\n      dismissWith(DismissReason.esc);\n    }\n  };\n\n  /**\n   * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n   * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n   * This is the approach that Babel will probably take to implement private methods/fields\n   *   https://github.com/tc39/proposal-private-methods\n   *   https://github.com/babel/babel/pull/7555\n   * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n   *   then we can use that language feature.\n   */\n\n  var privateMethods = {\n    swalPromiseResolve: new WeakMap(),\n    swalPromiseReject: new WeakMap()\n  };\n\n  // From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n  // Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n  // elements not within the active modal dialog will not be surfaced if a user opens a screen\n  // reader’s list of elements (headings, form controls, landmarks, etc.) in the document.\n\n  const setAriaHidden = () => {\n    const container = getContainer();\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.contains(container)) {\n        return;\n      }\n      if (el.hasAttribute('aria-hidden')) {\n        el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden') || '');\n      }\n      el.setAttribute('aria-hidden', 'true');\n    });\n  };\n  const unsetAriaHidden = () => {\n    const bodyChildren = Array.from(document.body.children);\n    bodyChildren.forEach(el => {\n      if (el.hasAttribute('data-previous-aria-hidden')) {\n        el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden') || '');\n        el.removeAttribute('data-previous-aria-hidden');\n      } else {\n        el.removeAttribute('aria-hidden');\n      }\n    });\n  };\n\n  // @ts-ignore\n  const isSafariOrIOS = typeof window !== 'undefined' && !!window.GestureEvent; // true for Safari desktop + all iOS browsers https://stackoverflow.com/a/70585394\n\n  /**\n   * Fix iOS scrolling\n   * http://stackoverflow.com/q/39626302\n   */\n  const iOSfix = () => {\n    if (isSafariOrIOS && !hasClass(document.body, swalClasses.iosfix)) {\n      const offset = document.body.scrollTop;\n      document.body.style.top = `${offset * -1}px`;\n      addClass(document.body, swalClasses.iosfix);\n      lockBodyScroll();\n    }\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1246\n   */\n  const lockBodyScroll = () => {\n    const container = getContainer();\n    if (!container) {\n      return;\n    }\n    /** @type {boolean} */\n    let preventTouchMove;\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchstart = event => {\n      preventTouchMove = shouldPreventTouchMove(event);\n    };\n    /**\n     * @param {TouchEvent} event\n     */\n    container.ontouchmove = event => {\n      if (preventTouchMove) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n  };\n\n  /**\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const shouldPreventTouchMove = event => {\n    const target = event.target;\n    const container = getContainer();\n    const htmlContainer = getHtmlContainer();\n    if (!container || !htmlContainer) {\n      return false;\n    }\n    if (isStylus(event) || isZoom(event)) {\n      return false;\n    }\n    if (target === container) {\n      return true;\n    }\n    if (!isScrollable(container) && target instanceof HTMLElement && target.tagName !== 'INPUT' &&\n    // #1603\n    target.tagName !== 'TEXTAREA' &&\n    // #2266\n    !(isScrollable(htmlContainer) &&\n    // #1944\n    htmlContainer.contains(target))) {\n      return true;\n    }\n    return false;\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1786\n   *\n   * @param {*} event\n   * @returns {boolean}\n   */\n  const isStylus = event => {\n    return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n  };\n\n  /**\n   * https://github.com/sweetalert2/sweetalert2/issues/1891\n   *\n   * @param {TouchEvent} event\n   * @returns {boolean}\n   */\n  const isZoom = event => {\n    return event.touches && event.touches.length > 1;\n  };\n  const undoIOSfix = () => {\n    if (hasClass(document.body, swalClasses.iosfix)) {\n      const offset = parseInt(document.body.style.top, 10);\n      removeClass(document.body, swalClasses.iosfix);\n      document.body.style.top = '';\n      document.body.scrollTop = offset * -1;\n    }\n  };\n\n  /**\n   * Measure scrollbar width for padding body during modal show/hide\n   * https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n   *\n   * @returns {number}\n   */\n  const measureScrollbar = () => {\n    const scrollDiv = document.createElement('div');\n    scrollDiv.className = swalClasses['scrollbar-measure'];\n    document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollbarWidth;\n  };\n\n  /**\n   * Remember state in cases where opening and handling a modal will fiddle with it.\n   * @type {number | null}\n   */\n  let previousBodyPadding = null;\n\n  /**\n   * @param {string} initialBodyOverflow\n   */\n  const replaceScrollbarWithPadding = initialBodyOverflow => {\n    // for queues, do not do this more than once\n    if (previousBodyPadding !== null) {\n      return;\n    }\n    // if the body has overflow\n    if (document.body.scrollHeight > window.innerHeight || initialBodyOverflow === 'scroll' // https://github.com/sweetalert2/sweetalert2/issues/2663\n    ) {\n      // add padding so the content doesn't shift after removal of scrollbar\n      previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n      document.body.style.paddingRight = `${previousBodyPadding + measureScrollbar()}px`;\n    }\n  };\n  const undoReplaceScrollbarWithPadding = () => {\n    if (previousBodyPadding !== null) {\n      document.body.style.paddingRight = `${previousBodyPadding}px`;\n      previousBodyPadding = null;\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  function removePopupAndResetState(instance, container, returnFocus, didClose) {\n    if (isToast()) {\n      triggerDidCloseAndDispose(instance, didClose);\n    } else {\n      restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n      removeKeydownHandler(globalState);\n    }\n\n    // workaround for https://github.com/sweetalert2/sweetalert2/issues/2088\n    // for some reason removing the container in Safari will scroll the document to bottom\n    if (isSafariOrIOS) {\n      container.setAttribute('style', 'display:none !important');\n      container.removeAttribute('class');\n      container.innerHTML = '';\n    } else {\n      container.remove();\n    }\n    if (isModal()) {\n      undoReplaceScrollbarWithPadding();\n      undoIOSfix();\n      unsetAriaHidden();\n    }\n    removeBodyClasses();\n  }\n\n  /**\n   * Remove SweetAlert2 classes from body\n   */\n  function removeBodyClasses() {\n    removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n  }\n\n  /**\n   * Instance method to close sweetAlert\n   *\n   * @param {any} resolveValue\n   */\n  function close(resolveValue) {\n    resolveValue = prepareResolveValue(resolveValue);\n    const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n    const didClose = triggerClosePopup(this);\n    if (this.isAwaitingPromise) {\n      // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n      if (!resolveValue.isDismissed) {\n        handleAwaitingPromise(this);\n        swalPromiseResolve(resolveValue);\n      }\n    } else if (didClose) {\n      // Resolve Swal promise\n      swalPromiseResolve(resolveValue);\n    }\n  }\n  const triggerClosePopup = instance => {\n    const popup = getPopup();\n    if (!popup) {\n      return false;\n    }\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n      return false;\n    }\n    removeClass(popup, innerParams.showClass.popup);\n    addClass(popup, innerParams.hideClass.popup);\n    const backdrop = getContainer();\n    removeClass(backdrop, innerParams.showClass.backdrop);\n    addClass(backdrop, innerParams.hideClass.backdrop);\n    handlePopupAnimation(instance, popup, innerParams);\n    return true;\n  };\n\n  /**\n   * @param {any} error\n   */\n  function rejectPromise(error) {\n    const rejectPromise = privateMethods.swalPromiseReject.get(this);\n    handleAwaitingPromise(this);\n    if (rejectPromise) {\n      // Reject Swal promise\n      rejectPromise(error);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleAwaitingPromise = instance => {\n    if (instance.isAwaitingPromise) {\n      delete instance.isAwaitingPromise;\n      // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n      if (!privateProps.innerParams.get(instance)) {\n        instance._destroy();\n      }\n    }\n  };\n\n  /**\n   * @param {any} resolveValue\n   * @returns {SweetAlertResult}\n   */\n  const prepareResolveValue = resolveValue => {\n    // When user calls Swal.close()\n    if (typeof resolveValue === 'undefined') {\n      return {\n        isConfirmed: false,\n        isDenied: false,\n        isDismissed: true\n      };\n    }\n    return Object.assign({\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: false\n    }, resolveValue);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} innerParams\n   */\n  const handlePopupAnimation = (instance, popup, innerParams) => {\n    var _globalState$eventEmi;\n    const container = getContainer();\n    // If animation is supported, animate\n    const animationIsSupported = hasCssAnimation(popup);\n    if (typeof innerParams.willClose === 'function') {\n      innerParams.willClose(popup);\n    }\n    (_globalState$eventEmi = globalState.eventEmitter) === null || _globalState$eventEmi === void 0 || _globalState$eventEmi.emit('willClose', popup);\n    if (animationIsSupported) {\n      animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n    } else {\n      // Otherwise, remove immediately\n      removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {HTMLElement} popup\n   * @param {HTMLElement} container\n   * @param {boolean} returnFocus\n   * @param {Function} didClose\n   */\n  const animatePopup = (instance, popup, container, returnFocus, didClose) => {\n    globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n    /**\n     * @param {AnimationEvent | TransitionEvent} e\n     */\n    const swalCloseAnimationFinished = function (e) {\n      if (e.target === popup) {\n        var _globalState$swalClos;\n        (_globalState$swalClos = globalState.swalCloseEventFinishedCallback) === null || _globalState$swalClos === void 0 || _globalState$swalClos.call(globalState);\n        delete globalState.swalCloseEventFinishedCallback;\n        popup.removeEventListener('animationend', swalCloseAnimationFinished);\n        popup.removeEventListener('transitionend', swalCloseAnimationFinished);\n      }\n    };\n    popup.addEventListener('animationend', swalCloseAnimationFinished);\n    popup.addEventListener('transitionend', swalCloseAnimationFinished);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} didClose\n   */\n  const triggerDidCloseAndDispose = (instance, didClose) => {\n    setTimeout(() => {\n      var _globalState$eventEmi2;\n      if (typeof didClose === 'function') {\n        didClose.bind(instance.params)();\n      }\n      (_globalState$eventEmi2 = globalState.eventEmitter) === null || _globalState$eventEmi2 === void 0 || _globalState$eventEmi2.emit('didClose');\n      // instance might have been destroyed already\n      if (instance._destroy) {\n        instance._destroy();\n      }\n    });\n  };\n\n  /**\n   * Shows loader (spinner), this is useful with AJAX requests.\n   * By default the loader be shown instead of the \"Confirm\" button.\n   *\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const showLoading = buttonToReplace => {\n    let popup = getPopup();\n    if (!popup) {\n      new Swal();\n    }\n    popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    const loader = getLoader();\n    if (isToast()) {\n      hide(getIcon());\n    } else {\n      replaceButton(popup, buttonToReplace);\n    }\n    show(loader);\n    popup.setAttribute('data-loading', 'true');\n    popup.setAttribute('aria-busy', 'true');\n    popup.focus();\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {HTMLButtonElement | null} [buttonToReplace]\n   */\n  const replaceButton = (popup, buttonToReplace) => {\n    const actions = getActions();\n    const loader = getLoader();\n    if (!actions || !loader) {\n      return;\n    }\n    if (!buttonToReplace && isVisible$1(getConfirmButton())) {\n      buttonToReplace = getConfirmButton();\n    }\n    show(actions);\n    if (buttonToReplace) {\n      hide(buttonToReplace);\n      loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n      actions.insertBefore(loader, buttonToReplace);\n    }\n    addClass([popup, actions], swalClasses.loading);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptionsAndValue = (instance, params) => {\n    if (params.input === 'select' || params.input === 'radio') {\n      handleInputOptions(instance, params);\n    } else if (['text', 'email', 'number', 'tel', 'textarea'].some(i => i === params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n      showLoading(getConfirmButton());\n      handleInputValue(instance, params);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} innerParams\n   * @returns {SweetAlertInputValue}\n   */\n  const getInputValue = (instance, innerParams) => {\n    const input = instance.getInput();\n    if (!input) {\n      return null;\n    }\n    switch (innerParams.input) {\n      case 'checkbox':\n        return getCheckboxValue(input);\n      case 'radio':\n        return getRadioValue(input);\n      case 'file':\n        return getFileValue(input);\n      default:\n        return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n    }\n  };\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {number}\n   */\n  const getCheckboxValue = input => input.checked ? 1 : 0;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {string | null}\n   */\n  const getRadioValue = input => input.checked ? input.value : null;\n\n  /**\n   * @param {HTMLInputElement} input\n   * @returns {FileList | File | null}\n   */\n  const getFileValue = input => input.files && input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputOptions = (instance, params) => {\n    const popup = getPopup();\n    if (!popup) {\n      return;\n    }\n    /**\n     * @param {Record<string, any>} inputOptions\n     */\n    const processInputOptions = inputOptions => {\n      if (params.input === 'select') {\n        populateSelectOptions(popup, formatInputOptions(inputOptions), params);\n      } else if (params.input === 'radio') {\n        populateRadioOptions(popup, formatInputOptions(inputOptions), params);\n      }\n    };\n    if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n      showLoading(getConfirmButton());\n      asPromise(params.inputOptions).then(inputOptions => {\n        instance.hideLoading();\n        processInputOptions(inputOptions);\n      });\n    } else if (typeof params.inputOptions === 'object') {\n      processInputOptions(params.inputOptions);\n    } else {\n      error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof params.inputOptions}`);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertOptions} params\n   */\n  const handleInputValue = (instance, params) => {\n    const input = instance.getInput();\n    if (!input) {\n      return;\n    }\n    hide(input);\n    asPromise(params.inputValue).then(inputValue => {\n      input.value = params.input === 'number' ? `${parseFloat(inputValue) || 0}` : `${inputValue}`;\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    }).catch(err => {\n      error(`Error in inputValue promise: ${err}`);\n      input.value = '';\n      show(input);\n      input.focus();\n      instance.hideLoading();\n    });\n  };\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateSelectOptions(popup, inputOptions, params) {\n    const select = getDirectChildByClass(popup, swalClasses.select);\n    if (!select) {\n      return;\n    }\n    /**\n     * @param {HTMLElement} parent\n     * @param {string} optionLabel\n     * @param {string} optionValue\n     */\n    const renderOption = (parent, optionLabel, optionValue) => {\n      const option = document.createElement('option');\n      option.value = optionValue;\n      setInnerHtml(option, optionLabel);\n      option.selected = isSelected(optionValue, params.inputValue);\n      parent.appendChild(option);\n    };\n    inputOptions.forEach(inputOption => {\n      const optionValue = inputOption[0];\n      const optionLabel = inputOption[1];\n      // <optgroup> spec:\n      // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n      // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n      // check whether this is a <optgroup>\n      if (Array.isArray(optionLabel)) {\n        // if it is an array, then it is an <optgroup>\n        const optgroup = document.createElement('optgroup');\n        optgroup.label = optionValue;\n        optgroup.disabled = false; // not configurable for now\n        select.appendChild(optgroup);\n        optionLabel.forEach(o => renderOption(optgroup, o[1], o[0]));\n      } else {\n        // case of <option>\n        renderOption(select, optionLabel, optionValue);\n      }\n    });\n    select.focus();\n  }\n\n  /**\n   * @param {HTMLElement} popup\n   * @param {InputOptionFlattened[]} inputOptions\n   * @param {SweetAlertOptions} params\n   */\n  function populateRadioOptions(popup, inputOptions, params) {\n    const radio = getDirectChildByClass(popup, swalClasses.radio);\n    if (!radio) {\n      return;\n    }\n    inputOptions.forEach(inputOption => {\n      const radioValue = inputOption[0];\n      const radioLabel = inputOption[1];\n      const radioInput = document.createElement('input');\n      const radioLabelElement = document.createElement('label');\n      radioInput.type = 'radio';\n      radioInput.name = swalClasses.radio;\n      radioInput.value = radioValue;\n      if (isSelected(radioValue, params.inputValue)) {\n        radioInput.checked = true;\n      }\n      const label = document.createElement('span');\n      setInnerHtml(label, radioLabel);\n      label.className = swalClasses.label;\n      radioLabelElement.appendChild(radioInput);\n      radioLabelElement.appendChild(label);\n      radio.appendChild(radioLabelElement);\n    });\n    const radios = radio.querySelectorAll('input');\n    if (radios.length) {\n      radios[0].focus();\n    }\n  }\n\n  /**\n   * Converts `inputOptions` into an array of `[value, label]`s\n   *\n   * @param {Record<string, any>} inputOptions\n   * @typedef {string[]} InputOptionFlattened\n   * @returns {InputOptionFlattened[]}\n   */\n  const formatInputOptions = inputOptions => {\n    /** @type {InputOptionFlattened[]} */\n    const result = [];\n    if (inputOptions instanceof Map) {\n      inputOptions.forEach((value, key) => {\n        let valueFormatted = value;\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    } else {\n      Object.keys(inputOptions).forEach(key => {\n        let valueFormatted = inputOptions[key];\n        if (typeof valueFormatted === 'object') {\n          // case of <optgroup>\n          valueFormatted = formatInputOptions(valueFormatted);\n        }\n        result.push([key, valueFormatted]);\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {string} optionValue\n   * @param {SweetAlertInputValue} inputValue\n   * @returns {boolean}\n   */\n  const isSelected = (optionValue, inputValue) => {\n    return !!inputValue && inputValue.toString() === optionValue.toString();\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleConfirmButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.input) {\n      handleConfirmOrDenyWithInput(instance, 'confirm');\n    } else {\n      confirm(instance, true);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const handleDenyButtonClick = instance => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableButtons();\n    if (innerParams.returnInputValueOnDeny) {\n      handleConfirmOrDenyWithInput(instance, 'deny');\n    } else {\n      deny(instance, false);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {Function} dismissWith\n   */\n  const handleCancelButtonClick = (instance, dismissWith) => {\n    instance.disableButtons();\n    dismissWith(DismissReason.cancel);\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleConfirmOrDenyWithInput = (instance, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    if (!innerParams.input) {\n      error(`The \"input\" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(type)}`);\n      return;\n    }\n    const input = instance.getInput();\n    const inputValue = getInputValue(instance, innerParams);\n    if (innerParams.inputValidator) {\n      handleInputValidator(instance, inputValue, type);\n    } else if (input && !input.checkValidity()) {\n      instance.enableButtons();\n      instance.showValidationMessage(innerParams.validationMessage || input.validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {SweetAlertInputValue} inputValue\n   * @param {'confirm' | 'deny'} type\n   */\n  const handleInputValidator = (instance, inputValue, type) => {\n    const innerParams = privateProps.innerParams.get(instance);\n    instance.disableInput();\n    const validationPromise = Promise.resolve().then(() => asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage)));\n    validationPromise.then(validationMessage => {\n      instance.enableButtons();\n      instance.enableInput();\n      if (validationMessage) {\n        instance.showValidationMessage(validationMessage);\n      } else if (type === 'deny') {\n        deny(instance, inputValue);\n      } else {\n        confirm(instance, inputValue);\n      }\n    });\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const deny = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnDeny) {\n      showLoading(getDenyButton());\n    }\n    if (innerParams.preDeny) {\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n      const preDenyPromise = Promise.resolve().then(() => asPromise(innerParams.preDeny(value, innerParams.validationMessage)));\n      preDenyPromise.then(preDenyValue => {\n        if (preDenyValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          instance.close({\n            isDenied: true,\n            value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n          });\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      instance.close({\n        isDenied: true,\n        value\n      });\n    }\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const succeedWith = (instance, value) => {\n    instance.close({\n      isConfirmed: true,\n      value\n    });\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {string} error\n   */\n  const rejectWith = (instance, error) => {\n    instance.rejectPromise(error);\n  };\n\n  /**\n   *\n   * @param {SweetAlert} instance\n   * @param {any} value\n   */\n  const confirm = (instance, value) => {\n    const innerParams = privateProps.innerParams.get(instance || undefined);\n    if (innerParams.showLoaderOnConfirm) {\n      showLoading();\n    }\n    if (innerParams.preConfirm) {\n      instance.resetValidationMessage();\n      instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n      const preConfirmPromise = Promise.resolve().then(() => asPromise(innerParams.preConfirm(value, innerParams.validationMessage)));\n      preConfirmPromise.then(preConfirmValue => {\n        if (isVisible$1(getValidationMessage()) || preConfirmValue === false) {\n          instance.hideLoading();\n          handleAwaitingPromise(instance);\n        } else {\n          succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n        }\n      }).catch(error => rejectWith(instance || undefined, error));\n    } else {\n      succeedWith(instance, value);\n    }\n  };\n\n  /**\n   * Hides loader and shows back the button which was hidden by .showLoading()\n   */\n  function hideLoading() {\n    // do nothing if popup is closed\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      return;\n    }\n    const domCache = privateProps.domCache.get(this);\n    hide(domCache.loader);\n    if (isToast()) {\n      if (innerParams.icon) {\n        show(getIcon());\n      }\n    } else {\n      showRelatedButton(domCache);\n    }\n    removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n    domCache.popup.removeAttribute('aria-busy');\n    domCache.popup.removeAttribute('data-loading');\n    domCache.confirmButton.disabled = false;\n    domCache.denyButton.disabled = false;\n    domCache.cancelButton.disabled = false;\n  }\n  const showRelatedButton = domCache => {\n    const buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n    if (buttonToReplace.length) {\n      show(buttonToReplace[0], 'inline-block');\n    } else if (allButtonsAreHidden()) {\n      hide(domCache.actions);\n    }\n  };\n\n  /**\n   * Gets the input DOM node, this method works with input parameter.\n   *\n   * @returns {HTMLInputElement | null}\n   */\n  function getInput() {\n    const innerParams = privateProps.innerParams.get(this);\n    const domCache = privateProps.domCache.get(this);\n    if (!domCache) {\n      return null;\n    }\n    return getInput$1(domCache.popup, innerParams.input);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {string[]} buttons\n   * @param {boolean} disabled\n   */\n  function setButtonsDisabled(instance, buttons, disabled) {\n    const domCache = privateProps.domCache.get(instance);\n    buttons.forEach(button => {\n      domCache[button].disabled = disabled;\n    });\n  }\n\n  /**\n   * @param {HTMLInputElement | null} input\n   * @param {boolean} disabled\n   */\n  function setInputDisabled(input, disabled) {\n    const popup = getPopup();\n    if (!popup || !input) {\n      return;\n    }\n    if (input.type === 'radio') {\n      /** @type {NodeListOf<HTMLInputElement>} */\n      const radios = popup.querySelectorAll(`[name=\"${swalClasses.radio}\"]`);\n      for (let i = 0; i < radios.length; i++) {\n        radios[i].disabled = disabled;\n      }\n    } else {\n      input.disabled = disabled;\n    }\n  }\n\n  /**\n   * Enable all the buttons\n   * @this {SweetAlert}\n   */\n  function enableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n  }\n\n  /**\n   * Disable all the buttons\n   * @this {SweetAlert}\n   */\n  function disableButtons() {\n    setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n  }\n\n  /**\n   * Enable the input field\n   * @this {SweetAlert}\n   */\n  function enableInput() {\n    setInputDisabled(this.getInput(), false);\n  }\n\n  /**\n   * Disable the input field\n   * @this {SweetAlert}\n   */\n  function disableInput() {\n    setInputDisabled(this.getInput(), true);\n  }\n\n  /**\n   * Show block with validation message\n   *\n   * @param {string} error\n   * @this {SweetAlert}\n   */\n  function showValidationMessage(error) {\n    const domCache = privateProps.domCache.get(this);\n    const params = privateProps.innerParams.get(this);\n    setInnerHtml(domCache.validationMessage, error);\n    domCache.validationMessage.className = swalClasses['validation-message'];\n    if (params.customClass && params.customClass.validationMessage) {\n      addClass(domCache.validationMessage, params.customClass.validationMessage);\n    }\n    show(domCache.validationMessage);\n    const input = this.getInput();\n    if (input) {\n      input.setAttribute('aria-invalid', 'true');\n      input.setAttribute('aria-describedby', swalClasses['validation-message']);\n      focusInput(input);\n      addClass(input, swalClasses.inputerror);\n    }\n  }\n\n  /**\n   * Hide block with validation message\n   *\n   * @this {SweetAlert}\n   */\n  function resetValidationMessage() {\n    const domCache = privateProps.domCache.get(this);\n    if (domCache.validationMessage) {\n      hide(domCache.validationMessage);\n    }\n    const input = this.getInput();\n    if (input) {\n      input.removeAttribute('aria-invalid');\n      input.removeAttribute('aria-describedby');\n      removeClass(input, swalClasses.inputerror);\n    }\n  }\n\n  const defaultParams = {\n    title: '',\n    titleText: '',\n    text: '',\n    html: '',\n    footer: '',\n    icon: undefined,\n    iconColor: undefined,\n    iconHtml: undefined,\n    template: undefined,\n    toast: false,\n    draggable: false,\n    animation: true,\n    theme: 'light',\n    showClass: {\n      popup: 'swal2-show',\n      backdrop: 'swal2-backdrop-show',\n      icon: 'swal2-icon-show'\n    },\n    hideClass: {\n      popup: 'swal2-hide',\n      backdrop: 'swal2-backdrop-hide',\n      icon: 'swal2-icon-hide'\n    },\n    customClass: {},\n    target: 'body',\n    color: undefined,\n    backdrop: true,\n    heightAuto: true,\n    allowOutsideClick: true,\n    allowEscapeKey: true,\n    allowEnterKey: true,\n    stopKeydownPropagation: true,\n    keydownListenerCapture: false,\n    showConfirmButton: true,\n    showDenyButton: false,\n    showCancelButton: false,\n    preConfirm: undefined,\n    preDeny: undefined,\n    confirmButtonText: 'OK',\n    confirmButtonAriaLabel: '',\n    confirmButtonColor: undefined,\n    denyButtonText: 'No',\n    denyButtonAriaLabel: '',\n    denyButtonColor: undefined,\n    cancelButtonText: 'Cancel',\n    cancelButtonAriaLabel: '',\n    cancelButtonColor: undefined,\n    buttonsStyling: true,\n    reverseButtons: false,\n    focusConfirm: true,\n    focusDeny: false,\n    focusCancel: false,\n    returnFocus: true,\n    showCloseButton: false,\n    closeButtonHtml: '&times;',\n    closeButtonAriaLabel: 'Close this dialog',\n    loaderHtml: '',\n    showLoaderOnConfirm: false,\n    showLoaderOnDeny: false,\n    imageUrl: undefined,\n    imageWidth: undefined,\n    imageHeight: undefined,\n    imageAlt: '',\n    timer: undefined,\n    timerProgressBar: false,\n    width: undefined,\n    padding: undefined,\n    background: undefined,\n    input: undefined,\n    inputPlaceholder: '',\n    inputLabel: '',\n    inputValue: '',\n    inputOptions: {},\n    inputAutoFocus: true,\n    inputAutoTrim: true,\n    inputAttributes: {},\n    inputValidator: undefined,\n    returnInputValueOnDeny: false,\n    validationMessage: undefined,\n    grow: false,\n    position: 'center',\n    progressSteps: [],\n    currentProgressStep: undefined,\n    progressStepsDistance: undefined,\n    willOpen: undefined,\n    didOpen: undefined,\n    didRender: undefined,\n    willClose: undefined,\n    didClose: undefined,\n    didDestroy: undefined,\n    scrollbarPadding: true\n  };\n  const updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'draggable', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'theme', 'willClose'];\n\n  /** @type {Record<string, string | undefined>} */\n  const deprecatedParams = {\n    allowEnterKey: undefined\n  };\n  const toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'draggable', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n\n  /**\n   * Is valid parameter\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isValidParameter = paramName => {\n    return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n  };\n\n  /**\n   * Is valid parameter for Swal.update() method\n   *\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  const isUpdatableParameter = paramName => {\n    return updatableParams.indexOf(paramName) !== -1;\n  };\n\n  /**\n   * Is deprecated parameter\n   *\n   * @param {string} paramName\n   * @returns {string | undefined}\n   */\n  const isDeprecatedParameter = paramName => {\n    return deprecatedParams[paramName];\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsValid = param => {\n    if (!isValidParameter(param)) {\n      warn(`Unknown parameter \"${param}\"`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfToastParamIsValid = param => {\n    if (toastIncompatibleParams.includes(param)) {\n      warn(`The parameter \"${param}\" is incompatible with toasts`);\n    }\n  };\n\n  /**\n   * @param {string} param\n   */\n  const checkIfParamIsDeprecated = param => {\n    const isDeprecated = isDeprecatedParameter(param);\n    if (isDeprecated) {\n      warnAboutDeprecation(param, isDeprecated);\n    }\n  };\n\n  /**\n   * Show relevant warnings for given params\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const showWarningsForParams = params => {\n    if (params.backdrop === false && params.allowOutsideClick) {\n      warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n    }\n    if (params.theme && !['light', 'dark', 'auto', 'borderless', 'embed-iframe'].includes(params.theme)) {\n      warn(`Invalid theme \"${params.theme}\". Expected \"light\", \"dark\", \"auto\", \"borderless\", or \"embed-iframe\"`);\n    }\n    for (const param in params) {\n      checkIfParamIsValid(param);\n      if (params.toast) {\n        checkIfToastParamIsValid(param);\n      }\n      checkIfParamIsDeprecated(param);\n    }\n  };\n\n  /**\n   * Updates popup parameters.\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function update(params) {\n    const container = getContainer();\n    const popup = getPopup();\n    const innerParams = privateProps.innerParams.get(this);\n    if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n      warn(`You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.`);\n      return;\n    }\n    const validUpdatableParams = filterValidParams(params);\n    const updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n    showWarningsForParams(updatedParams);\n    container.dataset['swal2Theme'] = updatedParams.theme;\n    render(this, updatedParams);\n    privateProps.innerParams.set(this, updatedParams);\n    Object.defineProperties(this, {\n      params: {\n        value: Object.assign({}, this.params, params),\n        writable: false,\n        enumerable: true\n      }\n    });\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const filterValidParams = params => {\n    const validUpdatableParams = {};\n    Object.keys(params).forEach(param => {\n      if (isUpdatableParameter(param)) {\n        validUpdatableParams[param] = params[param];\n      } else {\n        warn(`Invalid parameter to update: ${param}`);\n      }\n    });\n    return validUpdatableParams;\n  };\n\n  /**\n   * Dispose the current SweetAlert2 instance\n   */\n  function _destroy() {\n    const domCache = privateProps.domCache.get(this);\n    const innerParams = privateProps.innerParams.get(this);\n    if (!innerParams) {\n      disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n      return; // This instance has already been destroyed\n    }\n\n    // Check if there is another Swal closing\n    if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n      globalState.swalCloseEventFinishedCallback();\n      delete globalState.swalCloseEventFinishedCallback;\n    }\n    if (typeof innerParams.didDestroy === 'function') {\n      innerParams.didDestroy();\n    }\n    globalState.eventEmitter.emit('didDestroy');\n    disposeSwal(this);\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeSwal = instance => {\n    disposeWeakMaps(instance);\n    // Unset this.params so GC will dispose it (#1569)\n    delete instance.params;\n    // Unset globalState props so GC will dispose globalState (#1569)\n    delete globalState.keydownHandler;\n    delete globalState.keydownTarget;\n    // Unset currentInstance\n    delete globalState.currentInstance;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   */\n  const disposeWeakMaps = instance => {\n    // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n    if (instance.isAwaitingPromise) {\n      unsetWeakMaps(privateProps, instance);\n      instance.isAwaitingPromise = true;\n    } else {\n      unsetWeakMaps(privateMethods, instance);\n      unsetWeakMaps(privateProps, instance);\n      delete instance.isAwaitingPromise;\n      // Unset instance methods\n      delete instance.disableButtons;\n      delete instance.enableButtons;\n      delete instance.getInput;\n      delete instance.disableInput;\n      delete instance.enableInput;\n      delete instance.hideLoading;\n      delete instance.disableLoading;\n      delete instance.showValidationMessage;\n      delete instance.resetValidationMessage;\n      delete instance.close;\n      delete instance.closePopup;\n      delete instance.closeModal;\n      delete instance.closeToast;\n      delete instance.rejectPromise;\n      delete instance.update;\n      delete instance._destroy;\n    }\n  };\n\n  /**\n   * @param {object} obj\n   * @param {SweetAlert} instance\n   */\n  const unsetWeakMaps = (obj, instance) => {\n    for (const i in obj) {\n      obj[i].delete(instance);\n    }\n  };\n\n  var instanceMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    _destroy: _destroy,\n    close: close,\n    closeModal: close,\n    closePopup: close,\n    closeToast: close,\n    disableButtons: disableButtons,\n    disableInput: disableInput,\n    disableLoading: hideLoading,\n    enableButtons: enableButtons,\n    enableInput: enableInput,\n    getInput: getInput,\n    handleAwaitingPromise: handleAwaitingPromise,\n    hideLoading: hideLoading,\n    rejectPromise: rejectPromise,\n    resetValidationMessage: resetValidationMessage,\n    showValidationMessage: showValidationMessage,\n    update: update\n  });\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handlePopupClick = (innerParams, domCache, dismissWith) => {\n    if (innerParams.toast) {\n      handleToastClick(innerParams, domCache, dismissWith);\n    } else {\n      // Ignore click events that had mousedown on the popup but mouseup on the container\n      // This can happen when the user drags a slider\n      handleModalMousedown(domCache);\n\n      // Ignore click events that had mousedown on the container but mouseup on the popup\n      handleContainerMousedown(domCache);\n      handleModalClick(innerParams, domCache, dismissWith);\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleToastClick = (innerParams, domCache, dismissWith) => {\n    // Closing toast by internal click\n    domCache.popup.onclick = () => {\n      if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n        return;\n      }\n      dismissWith(DismissReason.close);\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const isAnyButtonShown = innerParams => {\n    return !!(innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton);\n  };\n  let ignoreOutsideClick = false;\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleModalMousedown = domCache => {\n    domCache.popup.onmousedown = () => {\n      domCache.container.onmouseup = function (e) {\n        domCache.container.onmouseup = () => {};\n        // We only check if the mouseup target is the container because usually it doesn't\n        // have any other direct children aside of the popup\n        if (e.target === domCache.container) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {DomCache} domCache\n   */\n  const handleContainerMousedown = domCache => {\n    domCache.container.onmousedown = e => {\n      // prevent the modal text from being selected on double click on the container (allowOutsideClick: false)\n      if (e.target === domCache.container) {\n        e.preventDefault();\n      }\n      domCache.popup.onmouseup = function (e) {\n        domCache.popup.onmouseup = () => {};\n        // We also need to check if the mouseup target is a child of the popup\n        if (e.target === domCache.popup || e.target instanceof HTMLElement && domCache.popup.contains(e.target)) {\n          ignoreOutsideClick = true;\n        }\n      };\n    };\n  };\n\n  /**\n   * @param {SweetAlertOptions} innerParams\n   * @param {DomCache} domCache\n   * @param {Function} dismissWith\n   */\n  const handleModalClick = (innerParams, domCache, dismissWith) => {\n    domCache.container.onclick = e => {\n      if (ignoreOutsideClick) {\n        ignoreOutsideClick = false;\n        return;\n      }\n      if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n        dismissWith(DismissReason.backdrop);\n      }\n    };\n  };\n\n  const isJqueryElement = elem => typeof elem === 'object' && elem.jquery;\n  const isElement = elem => elem instanceof Element || isJqueryElement(elem);\n  const argsToParams = args => {\n    const params = {};\n    if (typeof args[0] === 'object' && !isElement(args[0])) {\n      Object.assign(params, args[0]);\n    } else {\n      ['title', 'html', 'icon'].forEach((name, index) => {\n        const arg = args[index];\n        if (typeof arg === 'string' || isElement(arg)) {\n          params[name] = arg;\n        } else if (arg !== undefined) {\n          error(`Unexpected type of ${name}! Expected \"string\" or \"Element\", got ${typeof arg}`);\n        }\n      });\n    }\n    return params;\n  };\n\n  /**\n   * Main method to create a new SweetAlert2 popup\n   *\n   * @param  {...SweetAlertOptions} args\n   * @returns {Promise<SweetAlertResult>}\n   */\n  function fire() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return new this(...args);\n  }\n\n  /**\n   * Returns an extended version of `Swal` containing `params` as defaults.\n   * Useful for reusing Swal configuration.\n   *\n   * For example:\n   *\n   * Before:\n   * const textPromptOptions = { input: 'text', showCancelButton: true }\n   * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n   * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n   *\n   * After:\n   * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n   * const {value: firstName} = await TextPrompt('What is your first name?')\n   * const {value: lastName} = await TextPrompt('What is your last name?')\n   *\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlert}\n   */\n  function mixin(mixinParams) {\n    class MixinSwal extends this {\n      _main(params, priorityMixinParams) {\n        return super._main(params, Object.assign({}, mixinParams, priorityMixinParams));\n      }\n    }\n    // @ts-ignore\n    return MixinSwal;\n  }\n\n  /**\n   * If `timer` parameter is set, returns number of milliseconds of timer remained.\n   * Otherwise, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const getTimerLeft = () => {\n    return globalState.timeout && globalState.timeout.getTimerLeft();\n  };\n\n  /**\n   * Stop timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const stopTimer = () => {\n    if (globalState.timeout) {\n      stopTimerProgressBar();\n      return globalState.timeout.stop();\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const resumeTimer = () => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.start();\n      animateTimerProgressBar(remaining);\n      return remaining;\n    }\n  };\n\n  /**\n   * Resume timer. Returns number of milliseconds of timer remained.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @returns {number | undefined}\n   */\n  const toggleTimer = () => {\n    const timer = globalState.timeout;\n    return timer && (timer.running ? stopTimer() : resumeTimer());\n  };\n\n  /**\n   * Increase timer. Returns number of milliseconds of an updated timer.\n   * If `timer` parameter isn't set, returns undefined.\n   *\n   * @param {number} ms\n   * @returns {number | undefined}\n   */\n  const increaseTimer = ms => {\n    if (globalState.timeout) {\n      const remaining = globalState.timeout.increase(ms);\n      animateTimerProgressBar(remaining, true);\n      return remaining;\n    }\n  };\n\n  /**\n   * Check if timer is running. Returns true if timer is running\n   * or false if timer is paused or stopped.\n   * If `timer` parameter isn't set, returns undefined\n   *\n   * @returns {boolean}\n   */\n  const isTimerRunning = () => {\n    return !!(globalState.timeout && globalState.timeout.isRunning());\n  };\n\n  let bodyClickListenerAdded = false;\n  const clickHandlers = {};\n\n  /**\n   * @param {string} attr\n   */\n  function bindClickHandler() {\n    let attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n    clickHandlers[attr] = this;\n    if (!bodyClickListenerAdded) {\n      document.body.addEventListener('click', bodyClickListener);\n      bodyClickListenerAdded = true;\n    }\n  }\n  const bodyClickListener = event => {\n    for (let el = event.target; el && el !== document; el = el.parentNode) {\n      for (const attr in clickHandlers) {\n        const template = el.getAttribute(attr);\n        if (template) {\n          clickHandlers[attr].fire({\n            template\n          });\n          return;\n        }\n      }\n    }\n  };\n\n  // Source: https://gist.github.com/mudge/5830382?permalink_comment_id=2691957#gistcomment-2691957\n\n  class EventEmitter {\n    constructor() {\n      /** @type {Events} */\n      this.events = {};\n    }\n\n    /**\n     * @param {string} eventName\n     * @returns {EventHandlers}\n     */\n    _getHandlersByEventName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        // not Set because we need to keep the FIFO order\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1748990334\n        this.events[eventName] = [];\n      }\n      return this.events[eventName];\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    on(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      if (!currentHandlers.includes(eventHandler)) {\n        currentHandlers.push(eventHandler);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    once(eventName, eventHandler) {\n      var _this = this;\n      /**\n       * @param {Array} args\n       */\n      const onceFn = function () {\n        _this.removeListener(eventName, onceFn);\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        eventHandler.apply(_this, args);\n      };\n      this.on(eventName, onceFn);\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {Array} args\n     */\n    emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n      this._getHandlersByEventName(eventName).forEach(\n      /**\n       * @param {EventHandler} eventHandler\n       */\n      eventHandler => {\n        try {\n          eventHandler.apply(this, args);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n    }\n\n    /**\n     * @param {string} eventName\n     * @param {EventHandler} eventHandler\n     */\n    removeListener(eventName, eventHandler) {\n      const currentHandlers = this._getHandlersByEventName(eventName);\n      const index = currentHandlers.indexOf(eventHandler);\n      if (index > -1) {\n        currentHandlers.splice(index, 1);\n      }\n    }\n\n    /**\n     * @param {string} eventName\n     */\n    removeAllListeners(eventName) {\n      if (this.events[eventName] !== undefined) {\n        // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1749239222\n        this.events[eventName].length = 0;\n      }\n    }\n    reset() {\n      this.events = {};\n    }\n  }\n\n  globalState.eventEmitter = new EventEmitter();\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const on = (eventName, eventHandler) => {\n    globalState.eventEmitter.on(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  const once = (eventName, eventHandler) => {\n    globalState.eventEmitter.once(eventName, eventHandler);\n  };\n\n  /**\n   * @param {string} [eventName]\n   * @param {EventHandler} [eventHandler]\n   */\n  const off = (eventName, eventHandler) => {\n    // Remove all handlers for all events\n    if (!eventName) {\n      globalState.eventEmitter.reset();\n      return;\n    }\n    if (eventHandler) {\n      // Remove a specific handler\n      globalState.eventEmitter.removeListener(eventName, eventHandler);\n    } else {\n      // Remove all handlers for a specific event\n      globalState.eventEmitter.removeAllListeners(eventName);\n    }\n  };\n\n  var staticMethods = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    argsToParams: argsToParams,\n    bindClickHandler: bindClickHandler,\n    clickCancel: clickCancel,\n    clickConfirm: clickConfirm,\n    clickDeny: clickDeny,\n    enableLoading: showLoading,\n    fire: fire,\n    getActions: getActions,\n    getCancelButton: getCancelButton,\n    getCloseButton: getCloseButton,\n    getConfirmButton: getConfirmButton,\n    getContainer: getContainer,\n    getDenyButton: getDenyButton,\n    getFocusableElements: getFocusableElements,\n    getFooter: getFooter,\n    getHtmlContainer: getHtmlContainer,\n    getIcon: getIcon,\n    getIconContent: getIconContent,\n    getImage: getImage,\n    getInputLabel: getInputLabel,\n    getLoader: getLoader,\n    getPopup: getPopup,\n    getProgressSteps: getProgressSteps,\n    getTimerLeft: getTimerLeft,\n    getTimerProgressBar: getTimerProgressBar,\n    getTitle: getTitle,\n    getValidationMessage: getValidationMessage,\n    increaseTimer: increaseTimer,\n    isDeprecatedParameter: isDeprecatedParameter,\n    isLoading: isLoading,\n    isTimerRunning: isTimerRunning,\n    isUpdatableParameter: isUpdatableParameter,\n    isValidParameter: isValidParameter,\n    isVisible: isVisible,\n    mixin: mixin,\n    off: off,\n    on: on,\n    once: once,\n    resumeTimer: resumeTimer,\n    showLoading: showLoading,\n    stopTimer: stopTimer,\n    toggleTimer: toggleTimer\n  });\n\n  class Timer {\n    /**\n     * @param {Function} callback\n     * @param {number} delay\n     */\n    constructor(callback, delay) {\n      this.callback = callback;\n      this.remaining = delay;\n      this.running = false;\n      this.start();\n    }\n\n    /**\n     * @returns {number}\n     */\n    start() {\n      if (!this.running) {\n        this.running = true;\n        this.started = new Date();\n        this.id = setTimeout(this.callback, this.remaining);\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    stop() {\n      if (this.started && this.running) {\n        this.running = false;\n        clearTimeout(this.id);\n        this.remaining -= new Date().getTime() - this.started.getTime();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @param {number} n\n     * @returns {number}\n     */\n    increase(n) {\n      const running = this.running;\n      if (running) {\n        this.stop();\n      }\n      this.remaining += n;\n      if (running) {\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {number}\n     */\n    getTimerLeft() {\n      if (this.running) {\n        this.stop();\n        this.start();\n      }\n      return this.remaining;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n    isRunning() {\n      return this.running;\n    }\n  }\n\n  const swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n\n  /**\n   * @param {SweetAlertOptions} params\n   * @returns {SweetAlertOptions}\n   */\n  const getTemplateParams = params => {\n    const template = typeof params.template === 'string' ? (/** @type {HTMLTemplateElement} */document.querySelector(params.template)) : params.template;\n    if (!template) {\n      return {};\n    }\n    /** @type {DocumentFragment} */\n    const templateContent = template.content;\n    showWarningsForElements(templateContent);\n    const result = Object.assign(getSwalParams(templateContent), getSwalFunctionParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalParams = Array.from(templateContent.querySelectorAll('swal-param'));\n    swalParams.forEach(param => {\n      showWarningsForAttributes(param, ['name', 'value']);\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      if (typeof defaultParams[paramName] === 'boolean') {\n        result[paramName] = value !== 'false';\n      } else if (typeof defaultParams[paramName] === 'object') {\n        result[paramName] = JSON.parse(value);\n      } else {\n        result[paramName] = value;\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalFunctionParams = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalFunctions = Array.from(templateContent.querySelectorAll('swal-function-param'));\n    swalFunctions.forEach(param => {\n      const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n      const value = param.getAttribute('value');\n      if (!paramName || !value) {\n        return;\n      }\n      result[paramName] = new Function(`return ${value}`)();\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalButtons = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement[]} */\n    const swalButtons = Array.from(templateContent.querySelectorAll('swal-button'));\n    swalButtons.forEach(button => {\n      showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n      const type = button.getAttribute('type');\n      if (!type || !['confirm', 'cancel', 'deny'].includes(type)) {\n        return;\n      }\n      result[`${type}ButtonText`] = button.innerHTML;\n      result[`show${capitalizeFirstLetter(type)}Button`] = true;\n      if (button.hasAttribute('color')) {\n        result[`${type}ButtonColor`] = button.getAttribute('color');\n      }\n      if (button.hasAttribute('aria-label')) {\n        result[`${type}ButtonAriaLabel`] = button.getAttribute('aria-label');\n      }\n    });\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Pick<SweetAlertOptions, 'imageUrl' | 'imageWidth' | 'imageHeight' | 'imageAlt'>}\n   */\n  const getSwalImage = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const image = templateContent.querySelector('swal-image');\n    if (image) {\n      showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n      if (image.hasAttribute('src')) {\n        result.imageUrl = image.getAttribute('src') || undefined;\n      }\n      if (image.hasAttribute('width')) {\n        result.imageWidth = image.getAttribute('width') || undefined;\n      }\n      if (image.hasAttribute('height')) {\n        result.imageHeight = image.getAttribute('height') || undefined;\n      }\n      if (image.hasAttribute('alt')) {\n        result.imageAlt = image.getAttribute('alt') || undefined;\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalIcon = templateContent => {\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const icon = templateContent.querySelector('swal-icon');\n    if (icon) {\n      showWarningsForAttributes(icon, ['type', 'color']);\n      if (icon.hasAttribute('type')) {\n        result.icon = icon.getAttribute('type');\n      }\n      if (icon.hasAttribute('color')) {\n        result.iconColor = icon.getAttribute('color');\n      }\n      result.iconHtml = icon.innerHTML;\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @returns {Record<string, any>}\n   */\n  const getSwalInput = templateContent => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    /** @type {HTMLElement | null} */\n    const input = templateContent.querySelector('swal-input');\n    if (input) {\n      showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n      result.input = input.getAttribute('type') || 'text';\n      if (input.hasAttribute('label')) {\n        result.inputLabel = input.getAttribute('label');\n      }\n      if (input.hasAttribute('placeholder')) {\n        result.inputPlaceholder = input.getAttribute('placeholder');\n      }\n      if (input.hasAttribute('value')) {\n        result.inputValue = input.getAttribute('value');\n      }\n    }\n    /** @type {HTMLElement[]} */\n    const inputOptions = Array.from(templateContent.querySelectorAll('swal-input-option'));\n    if (inputOptions.length) {\n      result.inputOptions = {};\n      inputOptions.forEach(option => {\n        showWarningsForAttributes(option, ['value']);\n        const optionValue = option.getAttribute('value');\n        if (!optionValue) {\n          return;\n        }\n        const optionName = option.innerHTML;\n        result.inputOptions[optionValue] = optionName;\n      });\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   * @param {string[]} paramNames\n   * @returns {Record<string, any>}\n   */\n  const getSwalStringParams = (templateContent, paramNames) => {\n    /** @type {Record<string, any>} */\n    const result = {};\n    for (const i in paramNames) {\n      const paramName = paramNames[i];\n      /** @type {HTMLElement | null} */\n      const tag = templateContent.querySelector(paramName);\n      if (tag) {\n        showWarningsForAttributes(tag, []);\n        result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n      }\n    }\n    return result;\n  };\n\n  /**\n   * @param {DocumentFragment} templateContent\n   */\n  const showWarningsForElements = templateContent => {\n    const allowedElements = swalStringParams.concat(['swal-param', 'swal-function-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n    Array.from(templateContent.children).forEach(el => {\n      const tagName = el.tagName.toLowerCase();\n      if (!allowedElements.includes(tagName)) {\n        warn(`Unrecognized element <${tagName}>`);\n      }\n    });\n  };\n\n  /**\n   * @param {HTMLElement} el\n   * @param {string[]} allowedAttributes\n   */\n  const showWarningsForAttributes = (el, allowedAttributes) => {\n    Array.from(el.attributes).forEach(attribute => {\n      if (allowedAttributes.indexOf(attribute.name) === -1) {\n        warn([`Unrecognized attribute \"${attribute.name}\" on <${el.tagName.toLowerCase()}>.`, `${allowedAttributes.length ? `Allowed attributes are: ${allowedAttributes.join(', ')}` : 'To set the value, use HTML within the element.'}`]);\n      }\n    });\n  };\n\n  const SHOW_CLASS_TIMEOUT = 10;\n\n  /**\n   * Open popup, add necessary classes and styles, fix scrollbar\n   *\n   * @param {SweetAlertOptions} params\n   */\n  const openPopup = params => {\n    const container = getContainer();\n    const popup = getPopup();\n    if (typeof params.willOpen === 'function') {\n      params.willOpen(popup);\n    }\n    globalState.eventEmitter.emit('willOpen', popup);\n    const bodyStyles = window.getComputedStyle(document.body);\n    const initialBodyOverflow = bodyStyles.overflowY;\n    addClasses(container, popup, params);\n\n    // scrolling is 'hidden' until animation is done, after that 'auto'\n    setTimeout(() => {\n      setScrollingVisibility(container, popup);\n    }, SHOW_CLASS_TIMEOUT);\n    if (isModal()) {\n      fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n      setAriaHidden();\n    }\n    if (!isToast() && !globalState.previousActiveElement) {\n      globalState.previousActiveElement = document.activeElement;\n    }\n    if (typeof params.didOpen === 'function') {\n      setTimeout(() => params.didOpen(popup));\n    }\n    globalState.eventEmitter.emit('didOpen', popup);\n    removeClass(container, swalClasses['no-transition']);\n  };\n\n  /**\n   * @param {AnimationEvent} event\n   */\n  const swalOpenAnimationFinished = event => {\n    const popup = getPopup();\n    if (event.target !== popup) {\n      return;\n    }\n    const container = getContainer();\n    popup.removeEventListener('animationend', swalOpenAnimationFinished);\n    popup.removeEventListener('transitionend', swalOpenAnimationFinished);\n    container.style.overflowY = 'auto';\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   */\n  const setScrollingVisibility = (container, popup) => {\n    if (hasCssAnimation(popup)) {\n      container.style.overflowY = 'hidden';\n      popup.addEventListener('animationend', swalOpenAnimationFinished);\n      popup.addEventListener('transitionend', swalOpenAnimationFinished);\n    } else {\n      container.style.overflowY = 'auto';\n    }\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {boolean} scrollbarPadding\n   * @param {string} initialBodyOverflow\n   */\n  const fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n    iOSfix();\n    if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n      replaceScrollbarWithPadding(initialBodyOverflow);\n    }\n\n    // sweetalert2/issues/1247\n    setTimeout(() => {\n      container.scrollTop = 0;\n    });\n  };\n\n  /**\n   * @param {HTMLElement} container\n   * @param {HTMLElement} popup\n   * @param {SweetAlertOptions} params\n   */\n  const addClasses = (container, popup, params) => {\n    addClass(container, params.showClass.backdrop);\n    if (params.animation) {\n      // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n      popup.style.setProperty('opacity', '0', 'important');\n      show(popup, 'grid');\n      setTimeout(() => {\n        // Animate popup right after showing it\n        addClass(popup, params.showClass.popup);\n        // and remove the opacity workaround\n        popup.style.removeProperty('opacity');\n      }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n    } else {\n      show(popup, 'grid');\n    }\n    addClass([document.documentElement, document.body], swalClasses.shown);\n    if (params.heightAuto && params.backdrop && !params.toast) {\n      addClass([document.documentElement, document.body], swalClasses['height-auto']);\n    }\n  };\n\n  var defaultInputValidators = {\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    email: (string, validationMessage) => {\n      return /^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]+$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n    },\n    /**\n     * @param {string} string\n     * @param {string} [validationMessage]\n     * @returns {Promise<string | void>}\n     */\n    url: (string, validationMessage) => {\n      // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n      return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n    }\n  };\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function setDefaultInputValidators(params) {\n    // Use default `inputValidator` for supported input types if not provided\n    if (params.inputValidator) {\n      return;\n    }\n    if (params.input === 'email') {\n      params.inputValidator = defaultInputValidators['email'];\n    }\n    if (params.input === 'url') {\n      params.inputValidator = defaultInputValidators['url'];\n    }\n  }\n\n  /**\n   * @param {SweetAlertOptions} params\n   */\n  function validateCustomTargetElement(params) {\n    // Determine if the custom target element is valid\n    if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n      warn('Target parameter is not valid, defaulting to \"body\"');\n      params.target = 'body';\n    }\n  }\n\n  /**\n   * Set type, text and actions on popup\n   *\n   * @param {SweetAlertOptions} params\n   */\n  function setParameters(params) {\n    setDefaultInputValidators(params);\n\n    // showLoaderOnConfirm && preConfirm\n    if (params.showLoaderOnConfirm && !params.preConfirm) {\n      warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n    }\n    validateCustomTargetElement(params);\n\n    // Replace newlines with <br> in title\n    if (typeof params.title === 'string') {\n      params.title = params.title.split('\\n').join('<br />');\n    }\n    init(params);\n  }\n\n  /** @type {SweetAlert} */\n  let currentInstance;\n  var _promise = /*#__PURE__*/new WeakMap();\n  class SweetAlert {\n    /**\n     * @param {...any} args\n     * @this {SweetAlert}\n     */\n    constructor() {\n      /**\n       * @type {Promise<SweetAlertResult>}\n       */\n      _classPrivateFieldInitSpec(this, _promise, void 0);\n      // Prevent run in Node env\n      if (typeof window === 'undefined') {\n        return;\n      }\n      currentInstance = this;\n\n      // @ts-ignore\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const outerParams = Object.freeze(this.constructor.argsToParams(args));\n\n      /** @type {Readonly<SweetAlertOptions>} */\n      this.params = outerParams;\n\n      /** @type {boolean} */\n      this.isAwaitingPromise = false;\n      _classPrivateFieldSet2(_promise, this, this._main(currentInstance.params));\n    }\n    _main(userParams) {\n      let mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      showWarningsForParams(Object.assign({}, mixinParams, userParams));\n      if (globalState.currentInstance) {\n        const swalPromiseResolve = privateMethods.swalPromiseResolve.get(globalState.currentInstance);\n        const {\n          isAwaitingPromise\n        } = globalState.currentInstance;\n        globalState.currentInstance._destroy();\n        if (!isAwaitingPromise) {\n          swalPromiseResolve({\n            isDismissed: true\n          });\n        }\n        if (isModal()) {\n          unsetAriaHidden();\n        }\n      }\n      globalState.currentInstance = currentInstance;\n      const innerParams = prepareParams(userParams, mixinParams);\n      setParameters(innerParams);\n      Object.freeze(innerParams);\n\n      // clear the previous timer\n      if (globalState.timeout) {\n        globalState.timeout.stop();\n        delete globalState.timeout;\n      }\n\n      // clear the restore focus timeout\n      clearTimeout(globalState.restoreFocusTimeout);\n      const domCache = populateDomCache(currentInstance);\n      render(currentInstance, innerParams);\n      privateProps.innerParams.set(currentInstance, innerParams);\n      return swalPromise(currentInstance, domCache, innerParams);\n    }\n\n    // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n    then(onFulfilled) {\n      return _classPrivateFieldGet2(_promise, this).then(onFulfilled);\n    }\n    finally(onFinally) {\n      return _classPrivateFieldGet2(_promise, this).finally(onFinally);\n    }\n  }\n\n  /**\n   * @param {SweetAlert} instance\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {Promise}\n   */\n  const swalPromise = (instance, domCache, innerParams) => {\n    return new Promise((resolve, reject) => {\n      // functions to handle all closings/dismissals\n      /**\n       * @param {DismissReason} dismiss\n       */\n      const dismissWith = dismiss => {\n        instance.close({\n          isDismissed: true,\n          dismiss\n        });\n      };\n      privateMethods.swalPromiseResolve.set(instance, resolve);\n      privateMethods.swalPromiseReject.set(instance, reject);\n      domCache.confirmButton.onclick = () => {\n        handleConfirmButtonClick(instance);\n      };\n      domCache.denyButton.onclick = () => {\n        handleDenyButtonClick(instance);\n      };\n      domCache.cancelButton.onclick = () => {\n        handleCancelButtonClick(instance, dismissWith);\n      };\n      domCache.closeButton.onclick = () => {\n        dismissWith(DismissReason.close);\n      };\n      handlePopupClick(innerParams, domCache, dismissWith);\n      addKeydownHandler(globalState, innerParams, dismissWith);\n      handleInputOptionsAndValue(instance, innerParams);\n      openPopup(innerParams);\n      setupTimer(globalState, innerParams, dismissWith);\n      initFocus(domCache, innerParams);\n\n      // Scroll container to top on open (#1247, #1946)\n      setTimeout(() => {\n        domCache.container.scrollTop = 0;\n      });\n    });\n  };\n\n  /**\n   * @param {SweetAlertOptions} userParams\n   * @param {SweetAlertOptions} mixinParams\n   * @returns {SweetAlertOptions}\n   */\n  const prepareParams = (userParams, mixinParams) => {\n    const templateParams = getTemplateParams(userParams);\n    const params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n    params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n    params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n    if (params.animation === false) {\n      params.showClass = {\n        backdrop: 'swal2-noanimation'\n      };\n      params.hideClass = {};\n    }\n    return params;\n  };\n\n  /**\n   * @param {SweetAlert} instance\n   * @returns {DomCache}\n   */\n  const populateDomCache = instance => {\n    const domCache = {\n      popup: getPopup(),\n      container: getContainer(),\n      actions: getActions(),\n      confirmButton: getConfirmButton(),\n      denyButton: getDenyButton(),\n      cancelButton: getCancelButton(),\n      loader: getLoader(),\n      closeButton: getCloseButton(),\n      validationMessage: getValidationMessage(),\n      progressSteps: getProgressSteps()\n    };\n    privateProps.domCache.set(instance, domCache);\n    return domCache;\n  };\n\n  /**\n   * @param {GlobalState} globalState\n   * @param {SweetAlertOptions} innerParams\n   * @param {Function} dismissWith\n   */\n  const setupTimer = (globalState, innerParams, dismissWith) => {\n    const timerProgressBar = getTimerProgressBar();\n    hide(timerProgressBar);\n    if (innerParams.timer) {\n      globalState.timeout = new Timer(() => {\n        dismissWith('timer');\n        delete globalState.timeout;\n      }, innerParams.timer);\n      if (innerParams.timerProgressBar) {\n        show(timerProgressBar);\n        applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n        setTimeout(() => {\n          if (globalState.timeout && globalState.timeout.running) {\n            // timer can be already stopped or unset at this point\n            animateTimerProgressBar(innerParams.timer);\n          }\n        });\n      }\n    }\n  };\n\n  /**\n   * Initialize focus in the popup:\n   *\n   * 1. If `toast` is `true`, don't steal focus from the document.\n   * 2. Else if there is an [autofocus] element, focus it.\n   * 3. Else if `focusConfirm` is `true` and confirm button is visible, focus it.\n   * 4. Else if `focusDeny` is `true` and deny button is visible, focus it.\n   * 5. Else if `focusCancel` is `true` and cancel button is visible, focus it.\n   * 6. Else focus the first focusable element in a popup (if any).\n   *\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   */\n  const initFocus = (domCache, innerParams) => {\n    if (innerParams.toast) {\n      return;\n    }\n    // TODO: this is dumb, remove `allowEnterKey` param in the next major version\n    if (!callIfFunction(innerParams.allowEnterKey)) {\n      warnAboutDeprecation('allowEnterKey');\n      blurActiveElement();\n      return;\n    }\n    if (focusAutofocus(domCache)) {\n      return;\n    }\n    if (focusButton(domCache, innerParams)) {\n      return;\n    }\n    setFocus(-1, 1);\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @returns {boolean}\n   */\n  const focusAutofocus = domCache => {\n    const autofocusElements = Array.from(domCache.popup.querySelectorAll('[autofocus]'));\n    for (const autofocusElement of autofocusElements) {\n      if (autofocusElement instanceof HTMLElement && isVisible$1(autofocusElement)) {\n        autofocusElement.focus();\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * @param {DomCache} domCache\n   * @param {SweetAlertOptions} innerParams\n   * @returns {boolean}\n   */\n  const focusButton = (domCache, innerParams) => {\n    if (innerParams.focusDeny && isVisible$1(domCache.denyButton)) {\n      domCache.denyButton.focus();\n      return true;\n    }\n    if (innerParams.focusCancel && isVisible$1(domCache.cancelButton)) {\n      domCache.cancelButton.focus();\n      return true;\n    }\n    if (innerParams.focusConfirm && isVisible$1(domCache.confirmButton)) {\n      domCache.confirmButton.focus();\n      return true;\n    }\n    return false;\n  };\n  const blurActiveElement = () => {\n    if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n      document.activeElement.blur();\n    }\n  };\n\n  // Dear russian users visiting russian sites. Let's have fun.\n  if (typeof window !== 'undefined' && /^ru\\b/.test(navigator.language) && location.host.match(/\\.(ru|su|by|xn--p1ai)$/)) {\n    const now = new Date();\n    const initiationDate = localStorage.getItem('swal-initiation');\n    if (!initiationDate) {\n      localStorage.setItem('swal-initiation', `${now}`);\n    } else if ((now.getTime() - Date.parse(initiationDate)) / (1000 * 60 * 60 * 24) > 3) {\n      setTimeout(() => {\n        document.body.style.pointerEvents = 'none';\n        const ukrainianAnthem = document.createElement('audio');\n        ukrainianAnthem.src = 'https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3';\n        ukrainianAnthem.loop = true;\n        document.body.appendChild(ukrainianAnthem);\n        setTimeout(() => {\n          ukrainianAnthem.play().catch(() => {\n            // ignore\n          });\n        }, 2500);\n      }, 500);\n    }\n  }\n\n  // Assign instance methods from src/instanceMethods/*.js to prototype\n  SweetAlert.prototype.disableButtons = disableButtons;\n  SweetAlert.prototype.enableButtons = enableButtons;\n  SweetAlert.prototype.getInput = getInput;\n  SweetAlert.prototype.disableInput = disableInput;\n  SweetAlert.prototype.enableInput = enableInput;\n  SweetAlert.prototype.hideLoading = hideLoading;\n  SweetAlert.prototype.disableLoading = hideLoading;\n  SweetAlert.prototype.showValidationMessage = showValidationMessage;\n  SweetAlert.prototype.resetValidationMessage = resetValidationMessage;\n  SweetAlert.prototype.close = close;\n  SweetAlert.prototype.closePopup = close;\n  SweetAlert.prototype.closeModal = close;\n  SweetAlert.prototype.closeToast = close;\n  SweetAlert.prototype.rejectPromise = rejectPromise;\n  SweetAlert.prototype.update = update;\n  SweetAlert.prototype._destroy = _destroy;\n\n  // Assign static methods from src/staticMethods/*.js to constructor\n  Object.assign(SweetAlert, staticMethods);\n\n  // Proxy to instance methods to constructor, for now, for backwards compatibility\n  Object.keys(instanceMethods).forEach(key => {\n    /**\n     * @param {...any} args\n     * @returns {any | undefined}\n     */\n    SweetAlert[key] = function () {\n      if (currentInstance && currentInstance[key]) {\n        return currentInstance[key](...arguments);\n      }\n      return null;\n    };\n  });\n  SweetAlert.DismissReason = DismissReason;\n  SweetAlert.version = '11.19.1';\n\n  const Swal = SweetAlert;\n  // @ts-ignore\n  Swal.default = Swal;\n\n  return Swal;\n\n}));\nif (typeof this !== 'undefined' && this.Sweetalert2){this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2}\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\":root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-background: transparent;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.1s, box-shadow 0.1s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-confirm-button-background-color: #7066e0;--swal2-deny-button-background-color: #dc3741;--swal2-cancel-button-background-color: #6e7881}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:\\\"top-start     top            top-end\\\" \\\"center-start  center         center-end\\\" \\\"bottom-start  bottom-center  bottom-end\\\";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-confirm-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-deny-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:var(--swal2-cancel-button-background-color);color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-outline)}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:var(--swal2-background);box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}\");","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as rangeContainsMarker, H as createEmptyEventStore, I as reduceEventStore, J as rezoneEventStoreDates, K as mergeRawOptions, L as BASE_OPTION_REFINERS, M as CALENDAR_LISTENER_REFINERS, N as CALENDAR_OPTION_REFINERS, O as COMPLEX_OPTION_COMPARATORS, P as VIEW_OPTION_REFINERS, Q as DateEnv, R as DateProfileGenerator, S as createEventUi, U as parseBusinessHours, W as setRef, X as Interaction, Y as getElSeg, Z as elementClosest, _ as EventImpl, $ as listenBySelector, a0 as listenToHoverBySelector, a1 as PureComponent, a2 as buildViewContext, a3 as getUniqueDomId, a4 as parseInteractionSettings, a5 as interactionSettingsStore, a6 as NowTimer, a7 as CalendarImpl, a8 as flushSync, a9 as CalendarRoot, aa as RenderId, ab as ensureElHasStyles, ac as applyStyleProp, ad as sliceEventStore } from './internal-common.js';\nexport { ae as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\n// should be initialized once and stay constant\n// this will change too\nfunction getInitialDate(options, dateEnv, nowManager) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return nowManager.getDateMarker();\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n                dateEnv,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, typeData.dateEnv, dateEnv, clippedFramingRange);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, eventDateEnv, calendarDateEnv, framingRange) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = calendarDateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(calendarDateEnv.createMarker(eventDateEnv.toDate(instanceStart)));\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n/*\nTODO: test switching timezones when NO timezone plugin\n*/\nclass CalendarNowManager {\n    constructor() {\n        this.resetListeners = new Set();\n    }\n    handleInput(dateEnv, // will change if timezone setup changed\n    nowInput) {\n        const oldDateEnv = this.dateEnv;\n        if (dateEnv !== oldDateEnv) {\n            if (typeof nowInput === 'function') {\n                this.nowFn = nowInput;\n            }\n            else if (!oldDateEnv) { // first time?\n                this.nowAnchorDate = dateEnv.toDate(nowInput\n                    ? dateEnv.createMarker(nowInput)\n                    : dateEnv.createNowMarker());\n                this.nowAnchorQueried = Date.now();\n            }\n            this.dateEnv = dateEnv;\n            // not first time? fire reset handlers\n            if (oldDateEnv) {\n                for (const resetListener of this.resetListeners.values()) {\n                    resetListener();\n                }\n            }\n        }\n    }\n    getDateMarker() {\n        return this.nowAnchorDate\n            ? this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf() +\n                (Date.now() - this.nowAnchorQueried))\n            : this.dateEnv.createMarker(this.nowFn());\n    }\n    addResetListener(handler) {\n        this.resetListeners.add(handler);\n    }\n    removeResetListener(handler) {\n        this.resetListeners.delete(handler);\n    }\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.nowManager = new CalendarNowManager();\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        this.nowManager = new CalendarNowManager();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv, this.nowManager);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ nowManager: this.nowManager, viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        this.nowManager.handleInput(optionsData.dateEnv, refinedOptions.now);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            nowManager: this.nowManager,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.nowManager, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            createElement(NowTimer, { unit: \"day\" }, (nowDate) => {\n                let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, nowDate, props.viewTitle);\n                return (createElement(Fragment, null,\n                    toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n                    createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                        this.renderView(props),\n                        this.buildAppendContent()),\n                    toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n            })));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.17';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport {GuestService} from '../guest.service';\nimport {chatElement} from '../../services/services.service';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-bookings',\n  templateUrl: './bookings.component.html',\n  styleUrls: ['./bookings.component.css'],\n  imports: [FormsModule]\n})\nexport class BookingsComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('textInput') textInputInput: any;\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'bookings.component';\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n    ) { }\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  ngOnDestroy() {\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  createForm() {\n  }\n\n\n}\n","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport {GuestService} from '../guest.service';\nimport {chatElement} from '../../services/services.service';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-faq',\n  templateUrl: './faq.component.html',\n  styleUrls: ['./faq.component.css'],\n  imports: [FormsModule]\n})\nexport class FaqComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('textInput') textInputInput: any;\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'faq.component';\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n    ) { }\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  ngOnDestroy() {\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  createForm() {\n  }\n\n\n}\n","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { GuestService } from '../guest.service';\nimport { Subscription, } from 'rxjs';\nimport { TranslateService } from '@ngx-translate/core';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  imports: [FormsModule]\n})\nexport class HomeComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('businessaddress', { static: false }) businessaddress: ElementRef;\n  public componentName = 'home.component';\n  public subscriptions = new Subscription();\n  public homeForm: FormGroup;\n  public address;\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public fb: FormBuilder,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n    public translateSvc: TranslateService,\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n\n    this.subscriptions.add(\n      this.guestSvc.mainSvc.getLanguage().subscribe(language => {\n        this.translateSvc.use(<any>language);\n      })\n    );\n    this.subscriptions.add(\n      // tslint:disable-next-line: deprecation\n      this.guestSvc.mainSvc.getLocations().subscribe((locations) => {\n        this.guestSvc.locations = locations;\n        this.guestSvc.filteredLocations = locations && locations.filter(l => l.city.toLowerCase() === this.guestSvc.currentPosition.nearestCity.toLowerCase());\n      }));\n\n    this.subscriptions.add(\n      // tslint:disable-next-line: deprecation\n      this.guestSvc.mainSvc.getEquipments().subscribe((equipments) => {\n        this.guestSvc.equipments = equipments;\n      }));\n    this.subscriptions.add(\n      // tslint:disable-next-line: deprecation\n      this.guestSvc.mainSvc.getLocationtypes().subscribe((locationtypes) => {\n        this.guestSvc.locationtypes = locationtypes;\n      }));\n    this.subscriptions.add(\n      // tslint:disable-next-line: deprecation\n      this.guestSvc.mainSvc.getUsers().subscribe((users) => {\n        this.guestSvc.users = users;\n      }));\n\n  }\n\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  createForm() {\n    this.homeForm = this.fb.group({\n      address: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(500)]],\n    });\n  }\n\n  async generateResponse() {\n  }\n\n  goHome() {\n    this.router.navigate(['/home']);\n  }\n\n  searchListings() {\n    if (this.homeForm.controls.address.valid) {\n      this.guestSvc.nearestCity = this.homeForm.value.address;\n      localStorage.setItem('nearestCity', this.guestSvc.nearestCity);\n    }\n    else if (this.guestSvc.currentPosition && this.guestSvc.currentPosition.nearestCity && this.guestSvc.currentPosition.nearestCity.length > 0) {\n      this.guestSvc.nearestCity = this.guestSvc.currentPosition.nearestCity\n      localStorage.setItem('nearestCity', this.guestSvc.nearestCity);\n    } else {\n      this.guestSvc.nearestCity = localStorage.getItem('nearestCity') ?? '';\n    }\n    this.guestSvc.filteredLocations = this.guestSvc.locations && this.guestSvc.locations.filter(\n      l => {\n        return l.city.toLowerCase().indexOf(this.guestSvc.nearestCity.toLowerCase()) >= 0;\n      });\n    this.router.navigate(['/listings'])\n  }\n\n}\n","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return segHeights[segUid] || 1;\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        // the entry that the new insertion is touching must be hidden\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    // split up the touchingEntry, reinsert it\n                    const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    // reinsert the area that turned into a \"more\" link (so no other entries try to\n                    // occupy the space) but mark it forced-hidden\n                    const hiddenEntryId = buildEntryKey(hiddenEntry);\n                    forceHidden[hiddenEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;\n                    hiddenEntries.push(hiddenEntry);\n                    this.splitEntry(touchingEntry, entry, hiddenEntries);\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        // will try to reslice...\n        super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport {GuestService} from '../guest.service';\nimport {chatElement} from '../../services/services.service';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-contact',\n  templateUrl: './contact.component.html',\n  styleUrls: ['./contact.component.css'],\n  imports: [FormsModule]\n})\nexport class ContactComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('textInput') textInputInput: any;\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'contact.component';\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n    ) { }\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  ngOnDestroy() {\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  createForm() {\n  }\n\n\n}\n","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, OBJECTNAME } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { GuestService } from '../guest.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { updatePassword, EmailAuthProvider, reauthenticateWithCredential } from 'firebase/auth';\nimport { Subscription, } from 'rxjs';\ndeclare let $: any;\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-changepwd',\n  templateUrl: './changepwd.component.html',\n  styleUrls: ['./changepwd.component.css'],\n  imports: [FormsModule]\n})\nexport class ChangeComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('textInput') textInputInput: any;\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'changepwd.component';\n  public changepwdForm: FormGroup;\n  public subscriptions = new Subscription();\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public fb: FormBuilder,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n  ) { }\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  goHome() {\n    this.router.navigate(['/home']);\n  }\n\n  changepwd() {\n    if (this.changepwdForm && this.changepwdForm.value && this.changepwdForm.value.newpassword1) {\n      this.changePassword(this.changepwdForm.value.oldpassword, this.changepwdForm.value.newpassword1);\n      $('#passwordChangedModal').modal('show');\n    }\n  }\n\n  createForm() {\n    this.changepwdForm = this.fb.group({\n      oldpassword: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(15)]],\n      newpassword1: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(15)]],\n      newpassword2: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(15)]],\n    });\n\n  }\n\n\n  changePassword(currentPassword: string, newPassword: string): void {\n    let user = this.utilsSvc.mauth.currentUser;\n    if (user && user.email) {\n      const credential = EmailAuthProvider.credential(user.email, currentPassword);\n\n      reauthenticateWithCredential(user, credential)\n        .then(() => {\n          return updatePassword(user, newPassword);\n        })\n        .then(async () => {\n          user = this.utilsSvc.mauth.currentUser;\n          this.guestSvc.wnGuest.password = newPassword;\n          await this.guestSvc.mainSvc.storeDbSvc.updateObject(this.utilsSvc.backendFBstoreId, this.utilsSvc.mdb, OBJECTNAME.wnUsers, this.guestSvc.wnGuest, this.guestSvc.wnGuest.userId);\n          // Show success modal or message\n        })\n        .catch(error => {\n          console.error('Password update failed:', error);\n          // Show error modal or toast\n        });\n    } else {\n      console.error('No user is logged in.');\n    }\n  }\n}\n","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","/* eslint-disable max-len */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CookieModule } from 'ngx-cookie';\n\nimport { HomeComponent } from './home/home.component';\nimport { ChangeComponent } from './changepwd/changepwd.component';\nimport { ProfileComponent } from './profile/profile.component';\nimport { BookingsComponent } from './bookings/bookings.component';\nimport { ContactComponent } from './contact/contact.component';\nimport { FaqComponent } from './faq/faq.component';\nimport { BookingCalendarComponent } from './booking-calendar/booking-calendar.component';\nimport { ListingsComponent } from './listings/listings.component';\nimport { ListingdetailsComponent } from './listing-details/listing-details.component';\n\nimport { GodigitalbModule } from 'godigital-lib';\n\nimport { GuestRoutingModule } from './guest.router.module';\n\n@NgModule({\n  declarations: [HomeComponent, ListingsComponent, ListingdetailsComponent,\n    FaqComponent, ContactComponent, ProfileComponent, BookingsComponent,\n    ChangeComponent, BookingCalendarComponent],\n  imports: [\n    CommonModule,\n    IonicModule,\n    GuestRoutingModule,\n    FormsModule, ReactiveFormsModule,\n    CookieModule.forRoot(),\n    GodigitalbModule,\n  ],\n  providers:[]\n})\nexport class GuestModule { }\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.fc-event-title-container {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n  \n  .fc-buttons {\n    margin-top: 5px;\n    display: flex;\n    gap: 5px;\n  }\n  \n  .fc-buttons .btn {\n    padding: 2px 6px;\n    font-size: 0.75rem;\n    line-height: 1;\n  }\n  \n  .fc-event-title {\n    font-weight: bold;\n    font-size: 0.9rem;\n  }\n  .tippy-box[data-theme~='light-border'] {\n    background-color: #fff;\n    color: #333;\n    border: 1px solid #ccc;\n    font-size: 0.9rem;\n  }`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/guest/booking-calendar/booking-calendar.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,uBAAuB;EACzB;;EAEA;IACE,eAAe;IACf,aAAa;IACb,QAAQ;EACV;;EAEA;IACE,gBAAgB;IAChB,kBAAkB;IAClB,cAAc;EAChB;;EAEA;IACE,iBAAiB;IACjB,iBAAiB;EACnB;EACA;IACE,sBAAsB;IACtB,WAAW;IACX,sBAAsB;IACtB,iBAAiB;EACnB\",\"sourcesContent\":[\".fc-event-title-container {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-start;\\n  }\\n  \\n  .fc-buttons {\\n    margin-top: 5px;\\n    display: flex;\\n    gap: 5px;\\n  }\\n  \\n  .fc-buttons .btn {\\n    padding: 2px 6px;\\n    font-size: 0.75rem;\\n    line-height: 1;\\n  }\\n  \\n  .fc-event-title {\\n    font-weight: bold;\\n    font-size: 0.9rem;\\n  }\\n  .tippy-box[data-theme~='light-border'] {\\n    background-color: #fff;\\n    color: #333;\\n    border: 1px solid #ccc;\\n    font-size: 0.9rem;\\n  }\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, AfterViewChecked } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { UtilsService } from 'godigital-lib';\nimport { ServicesService, UsersService } from 'godigital-lib';\nimport { Router, NavigationEnd } from '@angular/router';\nimport {GuestService} from '../guest.service';\n\ninterface ChatMessage {\n  role: string;\n  content: string;\n}\n\n@Component({\n  selector: 'app-listing-details',\n  templateUrl: './listing-details.component.html',\n  styleUrls: ['./listing-details.component.css'],\n  imports: [FormsModule]\n})\nexport class ListingdetailsComponent implements OnInit, OnDestroy, AfterViewChecked {\n  @ViewChild('textInput') textInputInput: any;\n  @ViewChild('chatWindow', { static: false }) chatWindowRef: ElementRef;\n  public componentName = 'listing-details.component';\n\n  isCollapsed: boolean = true;\n\n  constructor(\n    public guestSvc: GuestService,\n    public mainSvc: ServicesService,\n    public utilsSvc: UtilsService,\n    public router: Router,\n    ) { }\n\n  ngOnInit() {\n    if (!this.guestSvc.currentListing) {\n    }\n  }\n\n  ngOnDestroy() {\n  }\n\n  ngAfterViewChecked() {\n  }\n\n  goHome(){\n    this.router.navigate(['/home']);\n  }\n\n  goToCalendar() {\n    this.guestSvc.currentBooking = null;\n    this.router.navigate(['/booking-calendar']);\n  }\n\n}\n","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["preact","Component","createElement","isValidElement","Fragment","createPortal","styleTexts","styleEls","Map","injectStyles","styleText","push","forEach","styleEl","appendStylesTo","ensureElHasStyles","el","isConnected","getRootNode","registerStylesRoot","rootNode","get","querySelector","document","setAttribute","nonce","getNonceValue","parentEl","head","insertBefore","firstChild","set","hydrateStylesRoot","sheet","ruleCnt","cssRules","length","split","styleStr","i","trim","insertRule","queriedNonceValue","undefined","queryNonceValue","metaWithNonce","hasAttribute","getAttribute","elWithNonce","css_248z","DelayedRunner","constructor","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","request","delay","isPaused","clearTimeout","tryDrain","setTimeout","bind","pause","scope","resume","force","depth","Object","keys","drained","clear","removeElement","parentNode","removeChild","elementClosest","selector","closest","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","j","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","guid$1","getUniqueDomId","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","eventName","createAriaClickAttrs","assign","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","key","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","remove","preventSelection","userSelect","webkitUserSelect","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","formatWithOrdinals","formatter","args","fallbackText","reduce","str","arg","index","replace","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","Error","getBoundingClientRect","width","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","m","exec","sign","years","months","days","parseInt","milliseconds","obj","duration","year","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","d","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","res","localRes","greatestDurationDenominator","value","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","Math","round","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","isValidDate","isNaN","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","match","formatIsoTimeString","doIso","abs","mins","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","apply","memoizeObjArg","currentArg","newArg","isPropsEqual","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","smallestUnitNum","severity","buildFormattingFunc","format","context","formatRange","start","end","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getSmallestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","options","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","defaultAllDayEventDuration","defaultTimedEventDuration","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","handleCustomRendering","customRenderingMetaMap","customRenderingReplaces","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","isMaybeArraysEqual","VIEW_OPTION_REFINERS","type","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","mergeProps","refineProps","refiners","refined","extra","raw","hasOwnProperty","prototype","propObjs","complexPropsMap","dest","complexObjs","unshift","filterHash","hash","filtered","mapHash","newHash","arrayToHash","item","hashValuesToArray","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","parse","isTimeUnspecified","DateEnv","settings","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","createMarker","meta","createMarkerMeta","createNowMarker","timestampToMarker","forcedTzo","getYear","getDay","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","toDate","dateOptions","offsetForMarker","isEndExclusive","forcedStartTzo","forcedEndTzo","formatIso","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","Theme","calendarOptions","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","className","prefix","iconOverridePrefix","getClass","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","flushSync","runBeforeFlush","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","render","FakeComponent","shift","componentDidMount","setState","createContext","defaultValue","ContextType","origProvider","Provider","isNew","getChildContext","arguments","subs","shouldComponentUpdate","_props","c","forceUpdate","sub","old","componentWillUnmount","ScrollResponder","execFunc","emitter","handleScrollRequest","queuedRequest","drain","on","fireInitialScroll","detach","off","update","isDatesNew","time","ViewContextType","buildViewContext","viewSpec","viewApi","viewOptions","dateProfileGenerator","dateEnv","nowManager","theme","pluginHooks","dispatch","getCurrentData","calendarApi","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","console","log","state","propEquality","stateEquality","safeSetState","newState","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","ContentInjector","id","queuedDomNodes","currentDomNodes","handleEl","generatorName","hasCustomRenderingHandler","updateElRef","elRef","customGenerator","defaultGenerator","renderProps","attrs","buildElAttrs","useDefault","innerContent","currentGeneratorMeta","customGeneratorRes","isObject","dangerouslySetInnerHTML","__html","html","slice","domNodes","elTag","applyQueueudDomNodes","triggerCustomRendering","componentDidUpdate","isActive","generatorMeta","containerEl","base","reportNewContainerEl","elClasses","filter","isTruthy","newNode","appendChild","elStyle","elAttrs","extraClassNames","RenderId","ContentContainer","InnerContent","InnerContentInjector","didMountMisfire","generatedClassNames","generateClassNames","classNameGenerator","renderId","containerComponent","parentProps","ViewContainer","view","buildViewClassNames","parseRange","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","max","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","range","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","currentDate","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","activeRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","currentRange","buildDateIncrement","validRangeInput","simpleInput","getDateMarker","refineRange","durationUnit","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","defId","instanceId","parseRecurring","recurringTypes","parsed","allDay","allDayGuess","typeData","typeId","expandRecurring","eventStore","framingRange","defs","instances","instance","recurringDef","def","starts","expandRecurringRanges","eventDef","typeDef","markers","expand","map","EVENT_NON_DATE_REFINERS","groupId","title","url","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","parseEvent","eventSource","allowOpenRange","buildEventRefiners","defIdMap","instanceIdMap","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","sourceId","singleRes","parseSingle","hasEnd","publicId","EVENT_UI_REFINERS","eventRefiners","ui","createEventUi","memberAdder","eventDefMemberAdders","freeze","startMeta","startMarker","endMeta","endMarker","startInput","parseEvents","rawEvents","createEmptyEventStore","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","startEditable","durationEditable","constraint","overlap","allow","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceEventStore","action","dateProfile","receiveRawEvents","fetchId","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","trigger","attachedHandlers","optionHandler","hasHandlers","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","rawDef","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","jsEvent","origEvent","triggerDateUnselect","dateSpan","transform","dateSpanTransforms","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventDefMutationAppliers","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","sourceIds","isRefetch","EventImpl","_context","_def","_instance","setProp","warn","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","event","relatedEvents","buildEventApis","revert","asStore","eventApiToStore","source","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApi","buildRangeApiWithTimeZone","fabricateEventRange","unpromisify","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","error","then","JsonRequestError","message","response","requestJson","params","toUpperCase","fetchOptions","URLSearchParams","headers","fetch","fetchRes","ok","json","parsedResponse","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","top","left","innerHTML","div","possible","offsetHeight","CalendarRoot","forPrint","handleBeforePrint","handleAfterPrint","isHeightAuto","Interaction","isHitComboAllowed","destroy","parseInteractionSettings","useEventCenter","interactionSettingsToStore","uid","interactionSettingsStore","NowTimer","handleRefresh","timing","computeTiming","waitMs","handleVisibilityChange","hidden","addResetListener","prevProps","removeResetListener","unroundedNow","currentUnitStart","nextUnitStart","buildDayRange","CalendarImpl","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","getOption","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","dateMarker","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","nextYear","today","gotoDate","zonedDateInput","incrementDate","formatDate","dateOrObj","endDate","selectionInput","dateSelection","eventInput","sourceInput","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","pointInsideRect","point","rect","right","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","scrollX","scrollY","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","overflowY","overflowX","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","NamedTimeZoneImpl","SegHierarchy","getEntryThickness","entry","thickness","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","inputs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","hiddenEntry","intersectSpans","splitEntry","barrier","entrySpan","barrierSpan","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","groupIntersectingEntries","merges","filteredMerges","hungryMerge","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","text","TableDateCell","dayMeta","navLinkAttrs","colCnt","publicDate","extraRenderProps","role","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","isPropsValid","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","selectionConfig","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","VISIBLE_HIDDEN_RE","Scroller","liquid","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","createRef","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","renderSection","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","NowIndicatorContainer","Consumer","isAxis","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","titleId","handleRootEl","rootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","forceTimed","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","hint","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","currentValue","subscribe","CustomRenderingStore","handle","customRendering","updated","has","delete","$","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","a$","a2","a3","a4","a5","a6","a7","a8","a9","aA","aB","aC","aD","aE","aF","aG","aH","aI","aJ","aK","aL","aM","aN","aO","aP","aQ","aR","aS","aT","aU","aV","aW","aX","aY","aZ","a_","aa","ab","ac","ad","ae","af","ag","ah","ai","aj","ak","al","am","an","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","b$","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","bA","bB","bC","bD","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bO","bP","bQ","bR","bS","bT","bU","bV","bW","bX","bY","bZ","b_","ba","bb","bc","bd","be","bf","bh","bi","bj","bk","bl","bm","bn","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","cn","co","cp","cq","cr","cs","ct","cu","cv","e","f","g","h","k","l","o","p","q","r","t","u","v","z","getOffsetParent","getWindow","getDocumentElement","getBasePlacement","getVariation","unsetSides","roundOffsetsByDPR","_ref","win","dpr","devicePixelRatio","mapToStyles","_ref2","_Object$assign2","popper","popperRect","placement","variation","offsets","gpuAcceleration","adaptive","roundOffsets","isFixed","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","heightProp","widthProp","offsetY","visualViewport","offsetX","commonStyles","_ref4","_Object$assign","computeStyles","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","elements","strategy","modifiersData","popperOffsets","styles","arrow","attributes","enabled","phase","fn","data","NgModule","RouterModule","HomeComponent","BookingCalendarComponent","ChangeComponent","ProfileComponent","BookingsComponent","ContactComponent","FaqComponent","ListingsComponent","ListingdetailsComponent","routes","path","GuestRoutingModule","__decorate","imports","forChild","exports","getNodeName","element","nodeName","toLowerCase","isTableElement","getWindowScroll","node","pageXOffset","pageYOffset","isScrollParent","_getComputedStyle","default","applyStyles","eventListeners","flip","hide","offset","preventOverflow","mathMax","mathMin","within","withinMaxClamp","ViewChild","FormsModule","UtilsService","ServicesService","regexMobileNo","OBJECTNAME","Router","GuestService","FormBuilder","Validators","Subscription","firebase","actionCodeSettings","guestSvc","fb","mainSvc","utilsSvc","router","businessaddress","componentName","accountForm","subscriptions","address","isCollapsed","ngOnInit","wnGuest","createForm","navigate","ngOnDestroy","unsubscribe","ngAfterViewInit","_this","autoCompleteAddress1","_asyncToGenerator","_x","group","email","required","companyname","minLength","maxLength","socialnetworklink","socialLinkValidator","fullname","country","lat","lng","telephone","mobileNo","pattern","updateProfile","_this2","user","cont","updateEmail","password","fullText","storeDbSvc","updateObject","backendFBstoreId","mdb","wnUsers","userId","modal","currentEmail","newEmail","_this3","Promise","resolve","reject","mauth","currentUser","credential","auth","EmailAuthProvider","reauthenticateWithCredential","err","sendEmailVerification","_x2","_x3","static","template","__NG_CLI_RESOURCE__0","passive","effect","_options$scroll","_options$resize","resize","scrollParents","reference","scrollParent","debounce","pending","createPlugin","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","button","ctrlKey","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","pointerEvents","visibility","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","disablePointCheck","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","elementFromPoint","componentId","hit0","hit1","buildDatePointApiWithContext","datePointTransforms","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSelectionTransformers","dateSpan0","dateSpan1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","eventInstanceId","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","eventDragMutationMassagers","displayDrag","clearDrag","updatedEventApi","eventChangeArg","transformed","eventDropTransformers","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","eventInstanceStart","massagers","massager","EventResizing","draggingSegEl","draggingSeg","segEl","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","defProps","externalDefTransforms","getEmbeddedElData","JSON","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","externalDragging","componentInteractions","calendarInteractions","elementDraggingImpl","optionRefiners","listenerRefiners","Draggable","variationPlacements","basePlacements","placements","allPlacements","detectOverflow","computeAutoPlacement","_options","boundary","rootBoundary","flipVariations","_options$allowedAutoP","allowedAutoPlacements","allowedPlacements","overflows","acc","BOOKINGSTATUS","Calendar","timeGridPlugin","interactionPlugin","orderByChild","equalTo","Swal","tippy","chatWindowRef","calendar","db","calendarEl","getElementById","booking","isCreation","status","CREATION","buttonsHtml","tooltipContent","guestId","price","toLocaleString","allowHTML","handleNewBooking","loadBookings","currentBooking","getIsoTime","eventToAdd","bookingId","random","handleButtonClick","fire","icon","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","newbooking","hostId","currentListing","owner","locationId","daybooking","bookingTime","PENDINGREQUEST","bookingsRef","newBookingRef","eventId","calendarEvent","bookingsQuery","snapshot","bookings","childSnapshot","ngAfterViewChecked","standalone","isHTMLElement","isShadowRoot","getParentNode","getUAString","getTrueOffsetParent","getContainingBlock","isFirefox","isIE","elementCss","currentNode","host","css","perspective","contain","willChange","getLayoutRect","getScrollParent","listScrollParents","list","_element$ownerDocumen","isBody","ownerDocument","updatedList","getFreshSideObject","mergePaddingObject","paddingObject","getOppositeVariationPlacement","matched","removeAttribute","initialStyles","styleProperties","property","attribute","requires","getCompositeRect","orderModifiers","mergeByName","isElement","DEFAULT_OPTIONS","modifiers","areValidElements","_len","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","orderedModifiers","effectCleanupFns","isDestroyed","setOptionsAction","cleanupModifierEffects","contextElement","runModifierEffects","_state$elements","reset","modifier","_state$orderedModifie","_state$orderedModifie2","onFirstUpdate","_ref$options","cleanupFn","noopFn","distanceAndSkiddingToXY","basePlacement","invertDistance","skidding","_options$offset","_data$state$placement","Injectable","UsersService","HttpClient","LocalUtilsService","NgxSpinnerService","usersSvc","localUtilsSvc","http","spinner","signinForm","currentPlaceId","futureDateValidator","control","enteredDate","setHours","nextWorkingDay","setDate","pastDate","halfHourValidator","notHalfHour","timeRangeValidator","from","to","fromHours","fromMinutes","toHours","toMinutes","fromTotal","toTotal","timeRangeInvalid","getNextWorkingDay","tomorrow","getTimestamp","time1","fullDateTime","timestamp","getDuration","startTimestamp","endTimestamp","durationMs","durationHours","dateObj","toLocaleDateString","toLocaleTimeString","tzOffset","pad","isoWithOffset","errorMessage","version","locations","filteredLocations","equipments","locationtypes","currentPosition","searchMode","nearestCity","currentEquipments","currentOwner","users","providedIn","listingForm","nextWorkingDayStr","toString","setValue","dateInput","goHome","nextday","validators","searchListings","goToListing","eq","temp","find","equipmentId","priceperhour","defaultView","ROUND_ARROW","BOX_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","TIPPY_DEFAULT_APPEND_TO","getValueAtIndexOrReturn","isType","invokeWithArgsOrReturn","timeout","removeProperties","clone","splitBySpaces","normalizeToArray","pushIfUnique","unique","arrayFrom","removeUndefinedProps","isNodeList","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","setTransitionDuration","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","_normalizeToArray","isCursorOutsideInteractiveBorder","popperTreeData","clientX","clientY","every","popperState","interactiveBorder","offsetData","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","updateTransitionEndListener","box","listener","actualContains","child","_target$getRootNode","currentInput","lastMouseMoveTime","onDocumentTouchStart","onDocumentMouseMove","onWindowBlur","activeElement","blur","bindGlobalEventListeners","isBrowser","isIE11","msCrypto","createMemoryLeakWarning","txt","clean","spacesAndTabs","lineStartWithSpaces","getDevMessage","getFormattedMessage","visitedMessages","process","env","NODE_ENV","resetVisitedMessages","Set","warnWhen","condition","_console","errorWhen","_console2","validateTargets","targets","didPassFalsyValue","didPassPlainObject","pluginProps","animateFill","followCursor","inlinePositioning","sticky","animation","inertia","maxWidth","defaultProps","aria","expanded","getReferenceClientRect","hideOnClick","ignoreAttributes","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","popperOptions","showOnCreate","touch","triggerTarget","defaultKeys","setDefaultProps","partialProps","validateProps","getExtendedPassedProps","passedProps","plugin","_name","getDataAttributeProps","propKeys","valueAsString","evaluateProps","out","prop","nonPluginProps","didPassUnknownProp","createArrowElement","setContent","textContent","getChildren","firstElementChild","boxChildren","backdrop","onUpdate","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","lastTriggerEvent","currentTransitionEndListener","listeners","debouncedOnMouseMove","onMouseMove","currentTarget","popperInstance","isMounted","isShown","clearDelayTimeouts","setProps","show","hideWithInteractivity","enable","disable","unmount","_props$render","pluginsHooks","hasAriaExpanded","addListeners","handleAriaExpandedAttribute","handleStyles","invokeHook","scheduleShow","getDocument","getNormalizedTouchSettings","getIsCustomTouchBehavior","getIsDefaultRenderFn","_instance$props$rende","getCurrentTarget","getDefaultTemplateChildren","getDelay","isShow","fromHide","hook","shouldInvokePropsHook","_instance$props","handleAriaContentAttribute","attr","nodes","nextValue","cleanupInteractiveMouseListeners","onDocumentPress","actualTarget","removeDocumentPress","onTouchMove","onTouchStart","addDocumentPress","doc","onTransitionedOut","onTransitionEnd","onTransitionedIn","onBlurOrFocusOut","removeListeners","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","getNestedPopperTree","_instance$popperInsta","shouldBail","relatedTarget","createPopperInstance","destroyPopperInstance","_instance$props2","computedReference","tippyModifier","_getDefaultTemplateCh","mount","nextElementSibling","_getNormalizedTouchSe","touchValue","touchDelay","cancelAnimationFrame","nestedPopper","isAlreadyVisible","isTouchAndTouchDisabled","_getDefaultTemplateCh2","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","isAlreadyHidden","_getDefaultTemplateCh4","optionalProps","isSingleContentElement","isMoreThanOneReferenceElement","hideAll","_temp","excludedReferenceOrInstance","exclude","isExcluded","originalDuration","applyStylesModifier","createSingleton","tippyInstances","_optionalProps$popper","individualInstances","references","triggerTargets","overrides","interceptSetPropsCleanups","shownOnCreate","setTriggerTargets","setReferences","enableInstances","interceptSetProps","singleton","originalSetProps","prepareInstance","overrideProps","_references$index","originalShow","showNext","first","showPrevious","last","setInstances","nextInstances","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","childTippyInstances","disabled","nativeProps","childProps","returnValue","normalizedReturnValue","targetNode","addEventListeners","removeEventListeners","applyMutations","originalDestroy","originalEnable","originalDisable","shouldDestroyChildInstances","createBackdropElement","transitionDelay","mouseCoords","activeInstances","storeMouseCoords","addMouseCoordsListener","removeMouseCoordsListener","isInternalUpdate","wasFocusEvent","isUnmounted","getIsInitialBehavior","addListener","removeListener","unsetGetReferenceClientRect","isCursorOverReference","relativeX","relativeY","getProps","_props$popperOptions","cursorRectIndex","triedPlacements","_getReferenceClientRect","getInlineBoundingClientRect","getClientRects","setInternalProps","addModifier","cursorRect","currentBasePlacement","boundingRect","clientRects","firstRect","lastRect","isTop","minLeft","maxRight","measureRects","_top","_bottom","_left","_right","_width","_height","getReference","shouldCheck","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","rectA","rectB","roundArrow","getWindowScrollBarX","global","factory","module","define","amd","globalThis","self","Sweetalert2","_assertClassBrand","TypeError","_checkPrivateRedeclaration","_classPrivateFieldGet2","_classPrivateFieldInitSpec","_classPrivateFieldSet2","RESTORE_FOCUS_TIMEOUT","globalState","focusPreviousActiveElement","previousActiveElement","focus","restoreActiveElement","returnFocus","restoreFocusTimeout","scrollTo","swalPrefix","swalClasses","icons","iconTypes","consolePrefix","capitalizeFirstLetter","previousWarnOnceMessages","warnOnce","includes","warnAboutDeprecation","deprecatedParam","useInstead","callIfFunction","hasToPromiseFn","toPromise","asPromise","isPromise","getContainer","elementBySelector","selectorString","elementByClass","getPopup","popup","getIcon","getIconContent","getTitle","getHtmlContainer","getImage","image","getProgressSteps","getValidationMessage","getConfirmButton","actions","confirm","getCancelButton","cancel","getDenyButton","deny","getInputLabel","getLoader","loader","getActions","getFooter","getTimerProgressBar","getCloseButton","close","focusable","getFocusableElements","focusableElementsWithTabindex","focusableElementsWithTabindexSorted","tabindexA","tabindexB","otherFocusableElements","otherFocusableElementsFiltered","isVisible$1","isModal","hasClass","shown","isToast","toast","isLoading","setInnerHtml","elem","parser","DOMParser","parseFromString","HTMLVideoElement","HTMLAudioElement","removeCustomClasses","values","showClass","applyCustomClass","customClass","addClass","getInput$1","inputClass","checkbox","radio","focusInput","toggleClass","removeClass","getDirectChildByClass","applyNumericalStyle","setProperty","removeProperty","showWhenInnerHtmlPresent","MutationObserver","toggle","observe","childList","subtree","setStyle","allButtonsAreHidden","isScrollable","hasCssAnimation","animDuration","parseFloat","getPropertyValue","transDuration","animateTimerProgressBar","timer","timerProgressBar","stopTimerProgressBar","timerProgressBarWidth","timerProgressBarFullWidth","timerProgressBarPercent","isNodeEnv","sweetHTML","file","label","textarea","resetOldContainer","oldContainer","resetValidationMessage$1","currentInstance","resetValidationMessage","addInputChangeListeners","rangeOutput","oninput","onchange","getTarget","setupAccessibility","setupRTL","targetElement","rtl","init","oldContainerExisted","dataset","parseHtmlToContainer","param","handleObject","jquery","handleJqueryElem","renderActions","showConfirmButton","showDenyButton","renderButtons","loaderHtml","confirmButton","denyButton","cancelButton","renderButton","handleButtonsStyling","reverseButtons","buttonsStyling","styled","confirmButtonColor","denyButtonColor","cancelButtonColor","applyOutlineColor","buttonStyle","outlineColor","buttonType","renderCloseButton","closeButton","closeButtonHtml","showCloseButton","closeButtonAriaLabel","renderContainer","handleBackdropParam","handlePositionParam","handleGrowParam","grow","background","privateProps","innerParams","WeakMap","domCache","inputClasses","renderInput","rerender","inputContainer","setAttributes","inputAttributes","showInput","setCustomClass","renderInputType","getInputContainer","inputAutoFocus","removeAttributes","attrName","setInputPlaceholder","placeholder","inputPlaceholder","setInputLabel","prependTo","inputLabel","labelClass","innerText","insertAdjacentElement","inputType","checkAndSetInputValue","inputValue","number","tel","search","selected","checkboxContainer","checked","getMargin","initialPopupWidth","textareaResizeHandler","textareaWidth","attributeFilter","renderContent","htmlContainer","renderFooter","renderIcon","iconHtml","colorSchemeQueryList","matchMedia","adjustSuccessIconBackgroundColor","iconType","iconClassName","setColor","popupBackgroundColor","successIconParts","successIconHtml","errorIconHtml","oldContent","newContent","iconContent","defaultIconHtml","question","warning","iconColor","sel","renderImage","imageUrl","imageAlt","imageWidth","imageHeight","mousedownX","mousedownY","initialX","initialY","addDraggableListeners","down","move","up","removeDraggableListeners","clientXY","getClientXY","insetInlineStart","insetBlockStart","startsWith","renderPopup","addClasses$1","draggable","renderProgressSteps","progressStepsContainer","progressSteps","currentProgressStep","stepEl","createStepElement","lineEl","createLineElement","progressStepsDistance","renderTitle","titleText","didRender","eventEmitter","emit","clickConfirm","_dom$getConfirmButton","clickDeny","_dom$getDenyButton","clickCancel","_dom$getCancelButton","DismissReason","esc","removeKeydownHandler","keydownTarget","keydownHandlerAdded","keydownHandler","keydownListenerCapture","addKeydownHandler","dismissWith","setFocus","increment","_dom$getPopup","focusableElements","arrowKeysNextButton","arrowKeysPreviousButton","isComposing","keyCode","stopKeydownPropagation","stopPropagation","handleEnter","handleTab","handleArrows","handleEsc","allowEnterKey","outerHTML","btnIndex","shiftKey","buttons","sibling","buttonToFocus","HTMLButtonElement","allowEscapeKey","privateMethods","swalPromiseResolve","swalPromiseReject","setAriaHidden","bodyChildren","unsetAriaHidden","isSafariOrIOS","GestureEvent","iOSfix","iosfix","lockBodyScroll","preventTouchMove","ontouchstart","shouldPreventTouchMove","ontouchmove","isStylus","isZoom","touchType","undoIOSfix","measureScrollbar","scrollDiv","previousBodyPadding","replaceScrollbarWithPadding","initialBodyOverflow","innerHeight","undoReplaceScrollbarWithPadding","removePopupAndResetState","didClose","triggerDidCloseAndDispose","removeBodyClasses","resolveValue","prepareResolveValue","triggerClosePopup","isAwaitingPromise","isDismissed","handleAwaitingPromise","hideClass","handlePopupAnimation","rejectPromise","_destroy","isDenied","_globalState$eventEmi","animationIsSupported","willClose","animatePopup","swalCloseEventFinishedCallback","swalCloseAnimationFinished","_globalState$swalClos","_globalState$eventEmi2","showLoading","buttonToReplace","replaceButton","handleInputOptionsAndValue","handleInputOptions","handleInputValue","getInputValue","getInput","getCheckboxValue","getRadioValue","getFileValue","inputAutoTrim","files","processInputOptions","inputOptions","populateSelectOptions","formatInputOptions","populateRadioOptions","hideLoading","catch","renderOption","optionLabel","optionValue","option","inputOption","optgroup","radioValue","radioLabel","radioInput","radioLabelElement","radios","valueFormatted","handleConfirmButtonClick","disableButtons","handleConfirmOrDenyWithInput","handleDenyButtonClick","returnInputValueOnDeny","handleCancelButtonClick","inputValidator","handleInputValidator","checkValidity","enableButtons","showValidationMessage","validationMessage","disableInput","validationPromise","enableInput","showLoaderOnDeny","preDeny","preDenyPromise","preDenyValue","rejectWith","succeedWith","showLoaderOnConfirm","preConfirm","preConfirmPromise","preConfirmValue","showRelatedButton","getElementsByClassName","setButtonsDisabled","setInputDisabled","inputerror","defaultParams","heightAuto","allowOutsideClick","confirmButtonAriaLabel","denyButtonText","denyButtonAriaLabel","cancelButtonAriaLabel","focusConfirm","focusDeny","focusCancel","willOpen","didOpen","didDestroy","scrollbarPadding","updatableParams","deprecatedParams","toastIncompatibleParams","isValidParameter","paramName","isUpdatableParameter","isDeprecatedParameter","checkIfParamIsValid","checkIfToastParamIsValid","checkIfParamIsDeprecated","isDeprecated","showWarningsForParams","validUpdatableParams","filterValidParams","updatedParams","defineProperties","writable","enumerable","disposeWeakMaps","disposeSwal","unsetWeakMaps","disableLoading","closePopup","closeModal","closeToast","instanceMethods","__proto__","handlePopupClick","handleToastClick","handleModalMousedown","handleContainerMousedown","handleModalClick","onclick","isAnyButtonShown","ignoreOutsideClick","onmousedown","onmouseup","isJqueryElement","argsToParams","mixin","mixinParams","MixinSwal","_main","priorityMixinParams","getTimerLeft","stopTimer","resumeTimer","remaining","toggleTimer","running","increaseTimer","increase","isTimerRunning","bodyClickListenerAdded","clickHandlers","bindClickHandler","bodyClickListener","EventEmitter","_getHandlersByEventName","eventHandler","currentHandlers","once","onceFn","_len2","_key2","removeAllListeners","staticMethods","enableLoading","Timer","started","swalStringParams","getTemplateParams","templateContent","showWarningsForElements","getSwalParams","getSwalFunctionParams","getSwalButtons","getSwalImage","getSwalIcon","getSwalInput","getSwalStringParams","swalParams","showWarningsForAttributes","swalFunctions","Function","swalButtons","paramNames","tag","allowedElements","allowedAttributes","SHOW_CLASS_TIMEOUT","openPopup","bodyStyles","addClasses","setScrollingVisibility","fixScrollContainer","swalOpenAnimationFinished","defaultInputValidators","string","setDefaultInputValidators","validateCustomTargetElement","setParameters","_promise","SweetAlert","outerParams","userParams","prepareParams","populateDomCache","swalPromise","onFulfilled","finally","onFinally","dismiss","setupTimer","initFocus","templateParams","blurActiveElement","focusAutofocus","focusButton","autofocusElements","autofocusElement","navigator","language","location","initiationDate","localStorage","getItem","setItem","ukrainianAnthem","src","loop","play","swal","sweetAlert","getElementsByTagName","styleSheet","cssText","auto","viewport","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","isLayoutViewport","getViewportRect","layoutViewport","toChildArray","hydrate","cloneElement","useState","useId","useReducer","useEffect","useLayoutEffect","useRef","useImperativeHandle","useMemo","useCallback","useContext","useDebugValue","displayName","isReactComponent","__f","isPureReactComponent","__b","Symbol","for","$$typeof","count","only","toArray","__e","__","__c","__k","__H","__P","__v","__d","__u","__a","__R","__h","__O","pop","revealOrder","size","containerInfo","defineProperty","configurable","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","nn","class","tn","vnode","multiple","en","__r","rn","ReactCurrentDispatcher","readContext","__n","un","ln","sn","hn","vn","dn","pn","mn","yn","_n","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","Children","unmountComponentAtNode","createFactory","findDOMNode","memo","forwardRef","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","includeScale","isFixedStrategy","scaleX","scaleY","addVisualOffsets","getMainAxisFromPlacement","computeOffsets","commonX","commonY","mainAxis","uaData","userAgentData","brands","brand","userAgent","merged","existing","globalLocales","MINIMAL_RAW_EN_LOCALE","code","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","NumberFormat","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","viewPropsTransformers","viewContainerAppends","themeClasses","namedTimeZonedImpl","optionChangeHandlers","scrollGridImpl","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","pluginName","currentId","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","compareOptionalDates","StandardTheme","root","tableCellShaded","buttonGroup","buttonActive","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","parseViewConfigs","parseViewConfig","createViewHookComponent","viewProps","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","stringify","reduceViewType","reduceCurrentDate","getInitialDate","initialDateInput","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","errorHandled","rawSources","rawSource","ignoreRange","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","textFallback","prevOrNext","navUnit","ViewImpl","viewTitle","activeStart","activeEnd","currentStart","currentEnd","eventSourceDef$2","successCallback","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","eventDateEnv","calendarDateEnv","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputFound","unfoundSource","newInput","handleDateProfile","handleEventStore","globalPlugins","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarNowManager","resetListeners","handleInput","nowInput","nowFn","nowAnchorDate","nowAnchorQueried","resetListener","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","contextAndState","reducer","computeIsLoading","resetOptions","changedOptionNames","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","processRawCalendarOptions","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","ViewHarness","availableWidth","updateAvailableWidth","handleResize","labeledById","EventClicking","handleSegClick","hasUrlContainer","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","resizeRunner","viewVGrow","viewAspectRatio","viewContext","toolbarProps","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","handleData","handleRenderRequest","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","sliceEvents","getHTMLElementScroll","textInputInput","getOppositePlacement","getDocumentRect","rectToClientRect","getInnerBoundingClientRect","clientTop","clientLeft","getClientRectFromMixedType","canEscapeClipping","clipperElement","getClippingRect","mainClippingParents","firstClippingParent","clippingRect","accRect","diffed","__V","__N","__s","componentDidCatch","__m","useErrorBoundary","DayTable","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","DEFAULT_WEEK_NUM_FORMAT","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","headerElRef","rootElRef","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","renderSimpleLayout","headerRowContent","timeContent","renderHScrollLayout","ScrollGrid","chunks","contentArg","isNowIndicator","nowIndicatorTop","safeComputeTop","colGroups","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","updateSizing","onCoords","collectSlatEls","elMap","splitSegsByCol","segsByCol","splitInteractionByCol","byRow","TimeColMoreLink","renderPlainFgSegs","buildPositioning","segInputs","hierarchy","hiddenGroups","web","buildWeb","stretchWeb","segRects","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","spanStart","spanEnd","computeFgSegPlacements","segVCoords","dumbSegs","segPlacements","segRect","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeCol","isSelectMirror","mirrorSegs","interactionAffectedInstances","sortedFgSegs","renderFillSegs","renderFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","forcedKey","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitFgEventSegs","splitBgEventSegs","splitBusinessHourSegs","splitNowIndicatorSegs","splitDateSelectionSegs","cellElRefs","fgEventSegsByRow","bgEventSegsByRow","businessHourSegsByRow","nowIndicatorSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","cell","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","slicer","timeColsRef","dayTableModel","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","headerContent","allDaySlot","colGroupNode","renderRowIntro","showWeekNumbers","headerAlignElRef","timeGridContent","getAltAxis","winScroll","TranslateService","translateSvc","homeForm","getLanguage","use","getLocations","city","getEquipments","getLocationtypes","getUsers","generateResponse","controls","valid","expandToHashMap","hashMap","createPopperLite","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","referenceRect","referenceOverflow","elementContext","popperAltOverflow","altBoundary","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","requiresIfExists","timeGrid","timeGridDay","timeGridWeek","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","ownerSVGElement","nextSibling","__E","_sb","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","localName","createTextNode","createElementNS","is","getDerivedStateFromError","TableView","bodyContent","splitSegsByRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","TableCell","dayNumberId","shouldDisplayMonthStart","renderTopInner","innerElRef","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","currentEndIncl","currentFirstYear","currentFirstMonth","currentLastYear","currentLastMonth","generateSegKey","generateSegUid","computeFgSegPlacement","segHeights","maxContentHeight","DayGridSegHierarchy","segUid","hiddenConsumes","unknownHeightSegs","eventHeight","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","forceHidden","excludeHidden","touchingEntryId","hiddenEntryId","TableRow","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","normalFgNodes","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","cellMinHeight","prevState","currentProps","leftRightCss","isExternalSizingChange","frameEls","newPositionCache","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","colPlacements","topsByInstanceId","buildAbsoluteTopHash","TableRows","rowRefs","isSegAllDay","firstCellEl","rowPositions","rowObj","colPositions","getCellRange","getCellEl","Table","needsScrollReset","limitViaBalanced","requestScrollReset","flushScrollReset","getScrollSubjectEl","DayTableSlicer","tableRef","DayTableView","buildDayTableModel","TableDateProfileGenerator","buildDayTableRenderRange","snapToWeek","endOfWeek","lastMonthRenderStart","DayGridView","OwnElement","ShadowRoot","updatePassword","changepwdForm","changepwd","newpassword1","changePassword","oldpassword","newpassword2","currentPassword","newPassword","getNodeScroll","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","_options$altBoundary","_options$padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","multiply","toPaddingObject","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","axisProp","centerOffset","_options$element","isSameNode","CommonModule","IonicModule","ReactiveFormsModule","CookieModule","GodigitalbModule","GuestModule","declarations","forRoot","providers","getExpandedFallbackPlacements","oppositePlacement","_skip","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","check","numberOfChecks","_loop","_i","fittingPlacement","_ret","goToCalendar","visited","dep","depModifier","isElementScaled","elementOrVirtualElement","isOffsetParentAnElement","offsetParentIsScaled","assignedSlot"],"sourceRoot":"webpack:///","x_google_ignoreList":[1,2,4,5,6,7,9,10,13,15,16,17,18,20,21,22,23,24,25,26,27,31,32,33,34,35,36,37,38,39,40,41,42,43,46,47,48,49,50,51,53,54,55,56,57,58,60,61,62,63,64,65,66,68,69,71,72,73,74,75,76,79,80,82,83,85,86]}